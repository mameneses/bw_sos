  [1m[36m (27.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (3.5ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to DeviseCreateUsers (20140918003936)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (10.9ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "first_name" character varying(255), "last_name" character varying(255), "email" character varying(255) DEFAULT '' NOT NULL, "encrypted_password" character varying(255) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" character varying(255), "last_sign_in_ip" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (1.3ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")
  [1m[36m (0.7ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140918003936"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
Migrating to CreateCustomers (20140919065835)
  [1m[35m (6.1ms)[0m  BEGIN
  [1m[36m (16.2ms)[0m  [1mCREATE TABLE "customers" ("id" serial primary key, "first_name" character varying(255), "last_name" character varying(255), "address" character varying(255), "city" character varying(255), "state" character varying(255), "zip_code" character varying(255), "phone_num" character varying(255), "alt_phone_num" character varying(255), "email" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140919065835"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
Migrating to CreateProducts (20140919070352)
  [1m[35m (6.0ms)[0m  BEGIN
  [1m[36m (19.4ms)[0m  [1mCREATE TABLE "products" ("id" serial primary key, "company" character varying(255), "model_type" character varying(255), "description" character varying(255), "price" integer, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140919070352"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
Migrating to CreateOrders (20140919070502)
  [1m[35m (6.0ms)[0m  BEGIN
  [1m[36m (20.0ms)[0m  [1mCREATE TABLE "orders" ("id" serial primary key, "placed_by" character varying(255), "placed_date" date, "follow_up_date" date, "customer_id" integer, "product_id" integer, "items_total" integer DEFAULT 0, "tax" integer, "total_with_tax" integer, "delivery" integer, "assembly" integer, "grand_total" integer, "deposit" integer, "balance_due" integer, "notes" text, "purchased_by" character varying(255), "gift_note" text, "complete" boolean, "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140919070502"]]
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
Migrating to CreateCustomersProductsJoinTable (20140925191902)
  [1m[35m (6.4ms)[0m  BEGIN
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "customers_products" ("customer_id" integer, "product_id" integer) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140925191902"]]
  [1m[36m (11.5ms)[0m  [1mCOMMIT[0m
Migrating to CreateOrdersProductsJoinTable (20140925194425)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "orders_products" ("order_id" integer, "product_id" integer) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20140925194425"]]
  [1m[36m (5.5ms)[0m  [1mCOMMIT[0m
Migrating to AddAdminToUsers (20141009225814)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (31.5ms)[0m  [1mALTER TABLE "users" ADD COLUMN "admin" boolean DEFAULT 'f'[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20141009225814"]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
Migrating to AddStoreLocationToOrders (20141106063026)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "orders" ADD COLUMN "store_location" character varying(255)[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20141106063026"]]
  [1m[36m (5.7ms)[0m  [1mCOMMIT[0m
Migrating to AddUpdatedByToOrders (20141109043336)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "orders" ADD COLUMN "updated_by" character varying(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20141109043336"]]
  [1m[36m (6.0ms)[0m  [1mCOMMIT[0m
Migrating to ChangePriceColumnToDecimal (20141112215433)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (21.8ms)[0m  [1mALTER TABLE "products" ALTER COLUMN "price" TYPE decimal(20,2)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20141112215433"]]
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
Migrating to ChangeOrderTableToDecimal (20141112223735)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (18.3ms)[0m  [1mALTER TABLE "orders" ALTER COLUMN "items_total" TYPE decimal(20,2)[0m
  [1m[35m (32.9ms)[0m  ALTER TABLE "orders" ALTER COLUMN "tax" TYPE decimal(20,2)
  [1m[36m (3.6ms)[0m  [1mALTER TABLE "orders" ALTER COLUMN "total_with_tax" TYPE decimal(20,2)[0m
  [1m[35m (3.2ms)[0m  ALTER TABLE "orders" ALTER COLUMN "delivery" TYPE decimal(20,2)
  [1m[36m (3.1ms)[0m  [1mALTER TABLE "orders" ALTER COLUMN "assembly" TYPE decimal(20,2)[0m
  [1m[35m (3.2ms)[0m  ALTER TABLE "orders" ALTER COLUMN "grand_total" TYPE decimal(20,2)
  [1m[36m (2.7ms)[0m  [1mALTER TABLE "orders" ALTER COLUMN "deposit" TYPE decimal(20,2)[0m
  [1m[35m (2.6ms)[0m  ALTER TABLE "orders" ALTER COLUMN "balance_due" TYPE decimal(20,2)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20141112223735"]]
  [1m[35m (2.1ms)[0m  COMMIT
Migrating to AddDeliveryWithTaxToOrders (20141112233729)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "orders" ADD COLUMN "delivery_with_tax" decimal(20,2)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20141112233729"]]
  [1m[35m (6.2ms)[0m  COMMIT
Migrating to AddDiscountToProducts (20141112235230)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "products" ADD COLUMN "discount" decimal(20,2)
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20141112235230"]]
  [1m[35m (6.0ms)[0m  COMMIT
Migrating to AddPickedUpToProducts (20141202201209)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "products" ADD COLUMN "picked_up" boolean
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20141202201209"]]
  [1m[35m (6.2ms)[0m  COMMIT
Migrating to ChangePickedUpDefaultToFalse (20141202213635)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "products" ALTER COLUMN "picked_up" TYPE boolean
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "products" ALTER COLUMN "picked_up" SET DEFAULT 'f'[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20141202213635"]]
  [1m[36m (6.2ms)[0m  [1mCOMMIT[0m
Migrating to AddPickUpDateToProducts (20141202215412)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "products" ADD COLUMN "pick_up_date" date[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20141202215412"]]
  [1m[36m (6.2ms)[0m  [1mCOMMIT[0m
Migrating to ChangeCustomerToNullTrue (20141202233350)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "customers" ALTER COLUMN "address" TYPE character varying(255)[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "customers" ALTER "address" DROP NOT NULL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "customers" ALTER COLUMN "city" TYPE character varying(255)[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "customers" ALTER "city" DROP NOT NULL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "customers" ALTER COLUMN "state" TYPE character varying(255)[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "customers" ALTER "state" DROP NOT NULL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "customers" ALTER COLUMN "zip_code" TYPE character varying(255)[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "customers" ALTER "zip_code" DROP NOT NULL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "customers" ALTER COLUMN "phone_num" TYPE character varying(255)[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "customers" ALTER "phone_num" DROP NOT NULL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "customers" ALTER COLUMN "alt_phone_num" TYPE character varying(255)[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "customers" ALTER "alt_phone_num" DROP NOT NULL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "customers" ALTER COLUMN "email" TYPE character varying(255)[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "customers" ALTER "email" DROP NOT NULL
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20141202233350"]]
  [1m[35m (6.1ms)[0m  COMMIT
Migrating to AddPickupOrDeliveryToProducts (20141203235356)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (15.4ms)[0m  ALTER TABLE "products" ADD COLUMN "pickup_or_delivery" character varying(255) DEFAULT 'Pickup'
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20141203235356"]]
  [1m[35m (6.7ms)[0m  COMMIT
Migrating to ChangeOrderTableToDefault (20141204203815)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "orders" ALTER COLUMN "items_total" TYPE decimal(20,2)
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "orders" ALTER COLUMN "items_total" SET DEFAULT 0.0[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "orders" ALTER COLUMN "tax" TYPE decimal(20,2)
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "orders" ALTER COLUMN "tax" SET DEFAULT 0.0[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "orders" ALTER COLUMN "total_with_tax" TYPE decimal(20,2)
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "orders" ALTER COLUMN "total_with_tax" SET DEFAULT 0.0[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "orders" ALTER COLUMN "delivery" TYPE decimal(20,2)
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "orders" ALTER COLUMN "delivery" SET DEFAULT 0.0[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "orders" ALTER COLUMN "delivery_with_tax" TYPE decimal(20,2)
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "orders" ALTER COLUMN "delivery_with_tax" SET DEFAULT 0.0[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "orders" ALTER COLUMN "assembly" TYPE decimal(20,2)
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "orders" ALTER COLUMN "assembly" SET DEFAULT 0.0[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "orders" ALTER COLUMN "grand_total" TYPE decimal(20,2)
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "orders" ALTER COLUMN "grand_total" SET DEFAULT 0.0[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "orders" ALTER COLUMN "deposit" TYPE decimal(20,2)
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "orders" ALTER COLUMN "deposit" SET DEFAULT 0.0[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "orders" ALTER COLUMN "balance_due" TYPE decimal(20,2)
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "orders" ALTER COLUMN "balance_due" SET DEFAULT 0.0[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20141204203815"]]
  [1m[36m (6.2ms)[0m  [1mCOMMIT[0m
Migrating to AddIssueToOrders (20141204213335)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (15.8ms)[0m  [1mALTER TABLE "orders" ADD COLUMN "issue" boolean DEFAULT 'f'[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20141204213335"]]
  [1m[36m (7.0ms)[0m  [1mCOMMIT[0m
Migrating to AddReadyToOrders (20150108010051)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (21.4ms)[0m  [1mALTER TABLE "orders" ADD COLUMN "ready" boolean DEFAULT 'f'[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20150108010051"]]
  [1m[36m (1.2ms)[0m  [1mCOMMIT[0m
Migrating to RemoveReadyFromOrders (20150108011132)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "orders" DROP "ready"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20150108011132"]]
  [1m[36m (6.3ms)[0m  [1mCOMMIT[0m
Migrating to AddReadyToProducts (20150108011244)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (14.3ms)[0m  [1mALTER TABLE "products" ADD COLUMN "ready" boolean DEFAULT 'f'[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20150108011244"]]
  [1m[36m (6.7ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (1.6ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (6.7ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 02:04:34.425573"], ["updated_at", "2015-04-01 02:04:34.425573"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 02:05:11.037523"], ["updated_at", "2015-04-01 02:05:11.037523"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 02:07:48.851811"], ["updated_at", "2015-04-01 02:07:48.851811"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 02:09:47.653169"], ["updated_at", "2015-04-01 02:09:47.653169"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 02:10:24.061121"], ["updated_at", "2015-04-01 02:10:24.061121"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-04-01 02:12:14.054175"], ["updated_at", "2015-04-01 02:12:14.054175"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 02:12:14.077722"], ["updated_at", "2015-04-01 02:12:14.077722"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 6  [["customer_id", 1], ["updated_at", "2015-04-01 02:12:14.092393"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1  [["customer_id", 1]]
  [1m[36mProduct Load (0.8ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 6]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 6]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 6]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "customers_products" WHERE "customers_products"."customer_id" = $1  [["customer_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 02:12:14.166662"], ["updated_at", "2015-04-01 02:12:14.166662"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 02:12:14.168233"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 02:12:14.168233"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 7], ["product_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 7]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 7[0m  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 02:12:14.189316"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1  [["product_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "customers_products" WHERE "customers_products"."product_id" = $1[0m  [["product_id", 1]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "products" WHERE "products"."id" = $1  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 7]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 05:49:43.699579"], ["updated_at", "2015-04-01 05:49:43.699579"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 05:49:43.704732"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 05:49:43.704732"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 8], ["product_id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.4ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 8]]
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 2]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 8  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 05:49:43.788512"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 2]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "products" WHERE "products"."id" = $1  [["id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 8]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-04-01 05:49:43.798911"], ["updated_at", "2015-04-01 05:49:43.798911"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 05:49:43.806210"], ["updated_at", "2015-04-01 05:49:43.806210"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 9  [["customer_id", 2], ["updated_at", "2015-04-01 05:49:43.809500"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1  [["customer_id", 2]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 9]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 9]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 9]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "customers_products" WHERE "customers_products"."customer_id" = $1  [["customer_id", 2]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 06:07:44.829966"], ["updated_at", "2015-04-01 06:07:44.829966"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 06:07:44.834056"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 06:07:44.834056"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 10], ["product_id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:07:44.858735"], ["updated_at", "2015-04-01 06:07:44.858735"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 06:07:44.860215"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 06:07:44.860215"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 11], ["product_id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 11]]
  [1m[35mOrder Load (0.4ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 4]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 11[0m  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 06:07:44.914622"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1  [["product_id", 4]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 4]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 11]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 11]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2015-04-01 06:07:44.925463"], ["updated_at", "2015-04-01 06:07:44.925463"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 06:07:44.932881"], ["updated_at", "2015-04-01 06:07:44.932881"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 12[0m  [["customer_id", 3], ["updated_at", "2015-04-01 06:07:44.936073"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1[0m  [["customer_id", 3]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 12]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 12]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 12]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "customers_products" WHERE "customers_products"."customer_id" = $1[0m  [["customer_id", 3]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "customers" WHERE "customers"."id" = $1  [["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-04-01 06:08:32.181114"], ["updated_at", "2015-04-01 06:08:32.181114"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:08:32.235525"], ["updated_at", "2015-04-01 06:08:32.235525"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 13  [["customer_id", 4], ["updated_at", "2015-04-01 06:08:32.248764"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1  [["customer_id", 4]]
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 13]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 13]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 13]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "customers_products" WHERE "customers_products"."customer_id" = $1  [["customer_id", 4]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:08:32.269081"], ["updated_at", "2015-04-01 06:08:32.269081"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 06:08:32.276944"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 06:08:32.276944"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 14], ["product_id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 14]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 5]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 14[0m  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 06:08:32.292040"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1  [["product_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 5]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 14]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 14]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:08:32.297965"], ["updated_at", "2015-04-01 06:08:32.297965"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 06:08:32.299452"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 06:08:32.299452"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 15], ["product_id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 06:08:55.680552"], ["updated_at", "2015-04-01 06:08:55.680552"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 06:08:55.691733"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 06:08:55.691733"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 16], ["product_id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 7]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 16  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 06:08:55.718182"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2015-04-01 06:08:55.767199"], ["updated_at", "2015-04-01 06:08:55.767199"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 06:08:55.774739"], ["updated_at", "2015-04-01 06:08:55.774739"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 17[0m  [["customer_id", 5], ["updated_at", "2015-04-01 06:08:55.778695"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1[0m  [["customer_id", 5]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 17]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 17]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 17]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "customers_products" WHERE "customers_products"."customer_id" = $1[0m  [["customer_id", 5]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "customers" WHERE "customers"."id" = $1  [["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 06:08:55.788791"], ["updated_at", "2015-04-01 06:08:55.788791"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 06:08:55.790132"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 06:08:55.790132"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 18], ["product_id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 18]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 8]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 18  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 06:08:55.797896"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 8]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "products" WHERE "products"."id" = $1  [["id", 8]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 18]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 18]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-04-01 06:10:44.555873"], ["updated_at", "2015-04-01 06:10:44.555873"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:10:44.612593"], ["updated_at", "2015-04-01 06:10:44.612593"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 19  [["customer_id", 6], ["updated_at", "2015-04-01 06:10:44.624454"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1  [["customer_id", 6]]
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 19]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 19]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 19]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "customers_products" WHERE "customers_products"."customer_id" = $1  [["customer_id", 6]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:10:44.696861"], ["updated_at", "2015-04-01 06:10:44.696861"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 06:10:44.698650"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 06:10:44.698650"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 20], ["product_id", 9]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 9]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 20[0m  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 06:10:44.717038"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 06:10:44.720612"], ["updated_at", "2015-04-01 06:10:44.720612"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 06:10:44.722291"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 06:10:44.722291"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 21], ["product_id", 10]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 21]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 10]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 21  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 06:10:44.731081"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 10]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "products" WHERE "products"."id" = $1  [["id", 10]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 21]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 21]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-04-01 06:13:56.222125"], ["updated_at", "2015-04-01 06:13:56.222125"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:13:56.275197"], ["updated_at", "2015-04-01 06:13:56.275197"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 22  [["customer_id", 7], ["updated_at", "2015-04-01 06:13:56.285419"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1  [["customer_id", 7]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 22]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 22]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 22]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "customers_products" WHERE "customers_products"."customer_id" = $1  [["customer_id", 7]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 7]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:13:56.307030"], ["updated_at", "2015-04-01 06:13:56.307030"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 06:13:56.314996"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 06:13:56.314996"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 23], ["product_id", 11]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 23]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 11]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 23[0m  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 06:13:56.331045"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1  [["product_id", 11]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 11]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 23]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 23]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:13:56.377913"], ["updated_at", "2015-04-01 06:13:56.377913"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 06:13:56.379427"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 06:13:56.379427"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 24], ["product_id", 12]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 12]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 24[0m  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 06:13:56.385504"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 06:17:04.130220"], ["updated_at", "2015-04-01 06:17:04.130220"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 06:17:04.133702"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 06:17:04.133702"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 25], ["product_id", 13]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 13]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 25  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 06:17:04.191487"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:17:04.194581"], ["updated_at", "2015-04-01 06:17:04.194581"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 06:17:04.195848"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 06:17:04.195848"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 26], ["product_id", 14]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 26]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 14]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 26[0m  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 06:17:04.203623"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1  [["product_id", 14]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 14]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 26]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 26]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2015-04-01 06:17:04.211087"], ["updated_at", "2015-04-01 06:17:04.211087"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 06:17:04.218262"], ["updated_at", "2015-04-01 06:17:04.218262"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 27[0m  [["customer_id", 8], ["updated_at", "2015-04-01 06:17:04.221289"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1[0m  [["customer_id", 8]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 27]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 27]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 27]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "customers_products" WHERE "customers_products"."customer_id" = $1[0m  [["customer_id", 8]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "customers" WHERE "customers"."id" = $1  [["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 06:21:26.344719"], ["updated_at", "2015-04-01 06:21:26.344719"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 06:21:26.348473"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 06:21:26.348473"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 28], ["product_id", 15]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 15]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 28  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 06:21:26.408312"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 15]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "products" WHERE "products"."id" = $1  [["id", 15]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:21:26.412916"], ["updated_at", "2015-04-01 06:21:26.412916"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 06:21:26.414336"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 06:21:26.414336"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 29], ["product_id", 16]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 29]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 16]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 29[0m  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 06:21:26.421863"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1  [["product_id", 16]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 16]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 29]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 29]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2015-04-01 06:21:26.428984"], ["updated_at", "2015-04-01 06:21:26.428984"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 06:21:26.436083"], ["updated_at", "2015-04-01 06:21:26.436083"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 30[0m  [["customer_id", 9], ["updated_at", "2015-04-01 06:21:26.440257"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1[0m  [["customer_id", 9]]
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 30]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 30]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 30]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "customers_products" WHERE "customers_products"."customer_id" = $1[0m  [["customer_id", 9]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "customers" WHERE "customers"."id" = $1  [["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 06:21:47.905682"], ["updated_at", "2015-04-01 06:21:47.905682"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 06:21:47.918150"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 06:21:47.918150"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 31], ["product_id", 17]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 17]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 31  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 06:21:47.945633"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:21:47.989228"], ["updated_at", "2015-04-01 06:21:47.989228"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 06:21:47.990801"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 06:21:47.990801"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 32], ["product_id", 18]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 32]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 18]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 32[0m  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 06:21:48.000278"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1  [["product_id", 18]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 18]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 32]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 32]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2015-04-01 06:21:48.009120"], ["updated_at", "2015-04-01 06:21:48.009120"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 06:21:48.016437"], ["updated_at", "2015-04-01 06:21:48.016437"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 33[0m  [["customer_id", 10], ["updated_at", "2015-04-01 06:21:48.019621"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1[0m  [["customer_id", 10]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 33]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 33]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 33]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "customers_products" WHERE "customers_products"."customer_id" = $1[0m  [["customer_id", 10]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "customers" WHERE "customers"."id" = $1  [["id", 10]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 06:26:12.566840"], ["updated_at", "2015-04-01 06:26:12.566840"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 06:26:12.578243"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 06:26:12.578243"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 34], ["product_id", 19]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 19]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 19]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 34[0m  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 06:26:12.608552"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 06:26:12.654045"], ["updated_at", "2015-04-01 06:26:12.654045"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 06:26:12.655524"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 06:26:12.655524"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 35], ["product_id", 20]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 35]]
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 20]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 35  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 06:26:12.667328"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 20]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "products" WHERE "products"."id" = $1  [["id", 20]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 35]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 35]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-04-01 06:26:12.677839"], ["updated_at", "2015-04-01 06:26:12.677839"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:26:12.685431"], ["updated_at", "2015-04-01 06:26:12.685431"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 36  [["customer_id", 11], ["updated_at", "2015-04-01 06:26:12.688510"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1  [["customer_id", 11]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 36]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 36]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 36]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "customers_products" WHERE "customers_products"."customer_id" = $1  [["customer_id", 11]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 11]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-04-01 06:26:30.359349"], ["updated_at", "2015-04-01 06:26:30.359349"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:26:30.412114"], ["updated_at", "2015-04-01 06:26:30.412114"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 37  [["customer_id", 12], ["updated_at", "2015-04-01 06:26:30.423955"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1  [["customer_id", 12]]
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 37]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 37]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 37]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "customers_products" WHERE "customers_products"."customer_id" = $1  [["customer_id", 12]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 12]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:26:30.444592"], ["updated_at", "2015-04-01 06:26:30.444592"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 06:26:30.452092"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 06:26:30.452092"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 38], ["product_id", 21]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 38]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 21]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 38[0m  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 06:26:30.471055"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1  [["product_id", 21]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 21]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 38]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 38]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:26:30.517504"], ["updated_at", "2015-04-01 06:26:30.517504"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 06:26:30.519238"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 06:26:30.519238"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 39], ["product_id", 22]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 22]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 22]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 39  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 06:26:30.527757"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 06:28:47.280727"], ["updated_at", "2015-04-01 06:28:47.280727"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 06:28:47.292020"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 06:28:47.292020"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 40], ["product_id", 23]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 23]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 23]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 40[0m  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 06:28:47.323272"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 23]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:28:47.367569"], ["updated_at", "2015-04-01 06:28:47.367569"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 06:28:47.369463"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 06:28:47.369463"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 41], ["product_id", 24]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 24]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 24]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 41  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 06:28:47.378614"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2015-04-01 06:28:47.383398"], ["updated_at", "2015-04-01 06:28:47.383398"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 06:28:47.391414"], ["updated_at", "2015-04-01 06:28:47.391414"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 42[0m  [["customer_id", 13], ["updated_at", "2015-04-01 06:28:47.394596"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1[0m  [["customer_id", 13]]
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 42]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 42]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 42]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "customers_products" WHERE "customers_products"."customer_id" = $1[0m  [["customer_id", 13]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "customers" WHERE "customers"."id" = $1  [["id", 13]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 06:28:47.404848"], ["updated_at", "2015-04-01 06:28:47.404848"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 06:28:47.406240"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 06:28:47.406240"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 43], ["product_id", 25]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 43]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 25]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 43  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 06:28:47.416145"]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 25]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "products" WHERE "products"."id" = $1  [["id", 25]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 43]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 43]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-04-01 06:34:04.624626"], ["updated_at", "2015-04-01 06:34:04.624626"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:34:04.647719"], ["updated_at", "2015-04-01 06:34:04.647719"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 44  [["customer_id", 14], ["updated_at", "2015-04-01 06:34:04.658560"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1  [["customer_id", 14]]
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 44]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 44]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 44]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "customers_products" WHERE "customers_products"."customer_id" = $1  [["customer_id", 14]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 14]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:34:04.679042"], ["updated_at", "2015-04-01 06:34:04.679042"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 06:34:04.686924"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 06:34:04.686924"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 45], ["product_id", 26]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 45]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 26]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 45[0m  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 06:34:04.704847"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1  [["product_id", 26]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 26]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 45]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 45]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:34:04.754260"], ["updated_at", "2015-04-01 06:34:04.754260"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 06:34:04.756471"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 06:34:04.756471"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 46], ["product_id", 27]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 27]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 27]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 46  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 06:34:04.767412"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 27]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 06:34:04.775826"], ["updated_at", "2015-04-01 06:34:04.775826"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 06:34:04.777204"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 06:34:04.777204"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 47], ["product_id", 28]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 28]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 28]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 47[0m  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 06:34:04.784173"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-04-01 06:34:52.881065"], ["updated_at", "2015-04-01 06:34:52.881065"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:34:52.902096"], ["updated_at", "2015-04-01 06:34:52.902096"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 48  [["customer_id", 15], ["updated_at", "2015-04-01 06:34:52.911910"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1  [["customer_id", 15]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 48]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 48]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 48]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "customers_products" WHERE "customers_products"."customer_id" = $1  [["customer_id", 15]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 15]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:34:52.932867"], ["updated_at", "2015-04-01 06:34:52.932867"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 06:34:52.941449"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 06:34:52.941449"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 49], ["product_id", 29]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 49]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 29]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 49[0m  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 06:34:52.956447"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1  [["product_id", 29]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 29]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 49]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 49]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:34:53.001508"], ["updated_at", "2015-04-01 06:34:53.001508"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 06:34:53.003084"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 06:34:53.003084"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 50], ["product_id", 30]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 30]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 30]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 50  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 06:34:53.013627"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:34:53.018579"], ["updated_at", "2015-04-01 06:34:53.018579"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 06:34:53.019986"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 06:34:53.019986"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 51], ["product_id", 31]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 31]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 31]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 51  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 06:34:53.027100"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 31]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-04-01 06:37:22.982802"], ["updated_at", "2015-04-01 06:37:22.982802"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:37:23.007181"], ["updated_at", "2015-04-01 06:37:23.007181"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 52  [["customer_id", 16], ["updated_at", "2015-04-01 06:37:23.017738"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1  [["customer_id", 16]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 52]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 52]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 52]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "customers_products" WHERE "customers_products"."customer_id" = $1  [["customer_id", 16]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 16]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:37:23.040933"], ["updated_at", "2015-04-01 06:37:23.040933"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 06:37:23.048582"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 06:37:23.048582"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 53], ["product_id", 32]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 53]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 32]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 53[0m  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 06:37:23.065972"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1  [["product_id", 32]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 32]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 53]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 53]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:37:23.113603"], ["updated_at", "2015-04-01 06:37:23.113603"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 06:37:23.115136"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 06:37:23.115136"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 54], ["product_id", 33]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 33]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 33]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 54  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 06:37:23.123374"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:37:23.125826"], ["updated_at", "2015-04-01 06:37:23.125826"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 06:37:23.127320"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 06:37:23.127320"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 55], ["product_id", 34]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 34]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 34]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 55  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 06:37:23.134588"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 34]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-04-01 06:37:37.250452"], ["updated_at", "2015-04-01 06:37:37.250452"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:37:37.273868"], ["updated_at", "2015-04-01 06:37:37.273868"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 56  [["customer_id", 17], ["updated_at", "2015-04-01 06:37:37.284309"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1  [["customer_id", 17]]
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 56]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 56]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 56]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "customers_products" WHERE "customers_products"."customer_id" = $1  [["customer_id", 17]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 17]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:37:37.306342"], ["updated_at", "2015-04-01 06:37:37.306342"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 06:37:37.315585"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 06:37:37.315585"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 57], ["product_id", 35]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 57]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 35]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 57[0m  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 06:37:37.338279"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1  [["product_id", 35]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 35]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 57]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 57]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:37:37.388909"], ["updated_at", "2015-04-01 06:37:37.388909"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 06:37:37.390535"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 06:37:37.390535"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 58], ["product_id", 36]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 36]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 36]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 58  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 06:37:37.401170"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:37:37.403541"], ["updated_at", "2015-04-01 06:37:37.403541"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 06:37:37.404803"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 06:37:37.404803"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 59], ["product_id", 37]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 37]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 37]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 59  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 06:37:37.411716"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 37]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 06:39:06.470135"], ["updated_at", "2015-04-01 06:39:06.470135"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 06:39:06.481096"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 06:39:06.481096"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 60], ["product_id", 38]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.4ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 60]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 38]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 60  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 06:39:06.513972"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 38]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "products" WHERE "products"."id" = $1  [["id", 38]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 60]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 60]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-04-01 06:39:06.522208"], ["updated_at", "2015-04-01 06:39:06.522208"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:39:06.529120"], ["updated_at", "2015-04-01 06:39:06.529120"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 61  [["customer_id", 18], ["updated_at", "2015-04-01 06:39:06.532463"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1  [["customer_id", 18]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 61]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 61]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 61]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "customers_products" WHERE "customers_products"."customer_id" = $1  [["customer_id", 18]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 18]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:39:06.543749"], ["updated_at", "2015-04-01 06:39:06.543749"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 06:39:06.545174"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 06:39:06.545174"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 62], ["product_id", 39]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 39]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 39]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 62  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 06:39:06.553110"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:39:06.558865"], ["updated_at", "2015-04-01 06:39:06.558865"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 06:39:06.560479"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 06:39:06.560479"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 63], ["product_id", 40]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 40]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 40]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 63  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 06:39:06.568667"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 40]]
  [1m[36m (34.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 06:39:48.623837"], ["updated_at", "2015-04-01 06:39:48.623837"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 06:39:48.635481"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 06:39:48.635481"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 64], ["product_id", 41]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 64]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 41]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 64  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 06:39:48.667486"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 41]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "products" WHERE "products"."id" = $1  [["id", 41]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 64]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 64]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-04-01 06:39:48.675911"], ["updated_at", "2015-04-01 06:39:48.675911"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:39:48.683644"], ["updated_at", "2015-04-01 06:39:48.683644"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 65  [["customer_id", 19], ["updated_at", "2015-04-01 06:39:48.686892"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1  [["customer_id", 19]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 65]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 65]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 65]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "customers_products" WHERE "customers_products"."customer_id" = $1  [["customer_id", 19]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 19]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:39:48.698024"], ["updated_at", "2015-04-01 06:39:48.698024"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 06:39:48.699566"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 06:39:48.699566"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 66], ["product_id", 42]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (1.0ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 42]]
  [1m[35mOrder Load (0.4ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 42]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 66  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 06:39:48.712113"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:39:48.759905"], ["updated_at", "2015-04-01 06:39:48.759905"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 06:39:48.761583"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 06:39:48.761583"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 67], ["product_id", 43]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 43]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 43]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 67  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 06:39:48.770815"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 43]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 06:41:26.292806"], ["updated_at", "2015-04-01 06:41:26.292806"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 06:41:26.296258"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 06:41:26.296258"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 68], ["product_id", 44]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 44]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 44]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 68[0m  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 06:41:26.325936"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 06:41:26.329437"], ["updated_at", "2015-04-01 06:41:26.329437"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 06:41:26.331054"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 06:41:26.331054"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 69], ["product_id", 45]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 45]]
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 45]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 69[0m  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 06:41:26.340217"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 45]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:41:26.384964"], ["updated_at", "2015-04-01 06:41:26.384964"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 06:41:26.386579"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 06:41:26.386579"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 70], ["product_id", 46]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 70]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 46]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 70[0m  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 06:41:26.398260"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1  [["product_id", 46]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 46]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 70]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 70]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2015-04-01 06:41:26.406200"], ["updated_at", "2015-04-01 06:41:26.406200"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 06:41:26.413445"], ["updated_at", "2015-04-01 06:41:26.413445"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 71[0m  [["customer_id", 20], ["updated_at", "2015-04-01 06:41:26.416514"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1[0m  [["customer_id", 20]]
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 71]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 71]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 71]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "customers_products" WHERE "customers_products"."customer_id" = $1[0m  [["customer_id", 20]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "customers" WHERE "customers"."id" = $1  [["id", 20]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 06:46:12.754516"], ["updated_at", "2015-04-01 06:46:12.754516"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 06:46:12.758281"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 06:46:12.758281"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 72], ["product_id", 47]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 47]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 47]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 72[0m  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 06:46:12.830726"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 47]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:46:12.836606"], ["updated_at", "2015-04-01 06:46:12.836606"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 06:46:12.837952"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 06:46:12.837952"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 73], ["product_id", 48]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 48]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 48]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 73  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 06:46:12.847083"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2015-04-01 06:46:12.851075"], ["updated_at", "2015-04-01 06:46:12.851075"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 06:46:12.858252"], ["updated_at", "2015-04-01 06:46:12.858252"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 74[0m  [["customer_id", 21], ["updated_at", "2015-04-01 06:46:12.860575"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1[0m  [["customer_id", 21]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 74]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 74]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 74]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "customers_products" WHERE "customers_products"."customer_id" = $1[0m  [["customer_id", 21]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "customers" WHERE "customers"."id" = $1  [["id", 21]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 06:46:12.871982"], ["updated_at", "2015-04-01 06:46:12.871982"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 06:46:12.873387"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 06:46:12.873387"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 75], ["product_id", 49]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 75]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 49]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 75  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 06:46:12.882047"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 49]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "products" WHERE "products"."id" = $1  [["id", 49]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 75]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 75]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-04-01 06:49:11.053601"], ["updated_at", "2015-04-01 06:49:11.053601"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:49:11.078604"], ["updated_at", "2015-04-01 06:49:11.078604"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 76  [["customer_id", 22], ["updated_at", "2015-04-01 06:49:11.088845"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1  [["customer_id", 22]]
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 76]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 76]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 76]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "customers_products" WHERE "customers_products"."customer_id" = $1  [["customer_id", 22]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 22]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 06:49:11.159427"], ["updated_at", "2015-04-01 06:49:11.159427"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 06:49:11.161135"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 06:49:11.161135"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 77], ["product_id", 50]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 50]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 50]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 77  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 06:49:11.178726"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 50]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 06:49:11.182324"], ["updated_at", "2015-04-01 06:49:11.182324"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 06:49:11.183656"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 06:49:11.183656"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 78], ["product_id", 51]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 51]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 51]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 78[0m  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 06:49:11.192041"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 06:49:11.196351"], ["updated_at", "2015-04-01 06:49:11.196351"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 06:49:11.198158"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 06:49:11.198158"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 79], ["product_id", 52]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 79]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 52]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 79  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 06:49:11.207337"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 52]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "products" WHERE "products"."id" = $1  [["id", 52]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 79]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 79]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 06:53:37.439303"], ["updated_at", "2015-04-01 06:53:37.439303"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 06:53:37.450171"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 06:53:37.450171"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 80], ["product_id", 53]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 80]]
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 53]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 80  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 06:53:37.479908"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 53]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "products" WHERE "products"."id" = $1  [["id", 53]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 80]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 80]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 06:53:37.487381"], ["updated_at", "2015-04-01 06:53:37.487381"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 06:53:37.489473"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 06:53:37.489473"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 81], ["product_id", 54]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 54]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 54]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 81[0m  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 06:53:37.530780"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 06:53:37.534677"], ["updated_at", "2015-04-01 06:53:37.534677"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 06:53:37.536052"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 06:53:37.536052"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 82], ["product_id", 55]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 55]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 55]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 82[0m  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 06:53:37.545055"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 55]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2015-04-01 06:53:37.556146"], ["updated_at", "2015-04-01 06:53:37.556146"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 06:53:37.563740"], ["updated_at", "2015-04-01 06:53:37.563740"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 83[0m  [["customer_id", 23], ["updated_at", "2015-04-01 06:53:37.566008"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1[0m  [["customer_id", 23]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 83]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 83]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 83]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "customers_products" WHERE "customers_products"."customer_id" = $1[0m  [["customer_id", 23]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "customers" WHERE "customers"."id" = $1  [["id", 23]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 08:06:05.845860"], ["updated_at", "2015-04-01 08:06:05.845860"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 08:06:05.859150"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 08:06:05.859150"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 84], ["product_id", 56]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 84]]
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 56]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 84  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 08:06:05.904842"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 56]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "products" WHERE "products"."id" = $1  [["id", 56]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 84]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 84]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 08:06:05.912217"], ["updated_at", "2015-04-01 08:06:05.912217"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 08:06:05.913548"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 08:06:05.913548"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 85], ["product_id", 57]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 57]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 57]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 85[0m  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 08:06:05.956297"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 08:06:05.959667"], ["updated_at", "2015-04-01 08:06:05.959667"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 08:06:05.960926"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 08:06:05.960926"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 86], ["product_id", 58]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 58]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 58]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 86[0m  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 08:06:05.968702"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 58]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2015-04-01 08:06:05.981951"], ["updated_at", "2015-04-01 08:06:05.981951"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 08:06:05.988667"], ["updated_at", "2015-04-01 08:06:05.988667"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 87[0m  [["customer_id", 24], ["updated_at", "2015-04-01 08:06:05.990590"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1[0m  [["customer_id", 24]]
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 87]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 87]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 87]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "customers_products" WHERE "customers_products"."customer_id" = $1[0m  [["customer_id", 24]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "customers" WHERE "customers"."id" = $1  [["id", 24]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 08:08:44.552334"], ["updated_at", "2015-04-01 08:08:44.552334"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 08:08:44.565627"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 08:08:44.565627"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 88], ["product_id", 59]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 88]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 59]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 88  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 08:08:44.594261"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 59]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "products" WHERE "products"."id" = $1  [["id", 59]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 88]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 88]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-04-01 08:08:44.603308"], ["updated_at", "2015-04-01 08:08:44.603308"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 08:08:44.643699"], ["updated_at", "2015-04-01 08:08:44.643699"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 89  [["customer_id", 25], ["updated_at", "2015-04-01 08:08:44.645912"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1  [["customer_id", 25]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 89]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 89]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 89]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "customers_products" WHERE "customers_products"."customer_id" = $1  [["customer_id", 25]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 25]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 08:08:44.656601"], ["updated_at", "2015-04-01 08:08:44.656601"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 08:08:44.657969"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 08:08:44.657969"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 90], ["product_id", 60]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 60]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 60]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 90  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 08:08:44.668334"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 08:08:44.677216"], ["updated_at", "2015-04-01 08:08:44.677216"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 08:08:44.678496"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 08:08:44.678496"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 91], ["product_id", 61]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 61]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 61]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 91  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 08:08:44.687243"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 61]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-04-01 08:09:10.637274"], ["updated_at", "2015-04-01 08:09:10.637274"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 08:09:10.658336"], ["updated_at", "2015-04-01 08:09:10.658336"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 92  [["customer_id", 26], ["updated_at", "2015-04-01 08:09:10.667480"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1  [["customer_id", 26]]
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 92]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 92]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 92]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "customers_products" WHERE "customers_products"."customer_id" = $1  [["customer_id", 26]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 26]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 08:09:10.737225"], ["updated_at", "2015-04-01 08:09:10.737225"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 08:09:10.738918"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 08:09:10.738918"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 93], ["product_id", 62]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 62]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 62]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 93  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 08:09:10.756664"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 62]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 08:09:10.761653"], ["updated_at", "2015-04-01 08:09:10.761653"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 08:09:10.762884"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 08:09:10.762884"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 94], ["product_id", 63]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 63]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 63]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 94[0m  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 08:09:10.771624"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 08:09:10.773823"], ["updated_at", "2015-04-01 08:09:10.773823"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 08:09:10.775023"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 08:09:10.775023"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 95], ["product_id", 64]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 95]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 64]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 95  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 08:09:10.784142"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 64]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "products" WHERE "products"."id" = $1  [["id", 64]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 95]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 95]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 08:09:26.494832"], ["updated_at", "2015-04-01 08:09:26.494832"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 08:09:26.505258"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 08:09:26.505258"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 96], ["product_id", 65]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.4ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 96]]
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 65]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 96  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 08:09:26.541679"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 65]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "products" WHERE "products"."id" = $1  [["id", 65]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 96]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 96]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 08:09:26.548572"], ["updated_at", "2015-04-01 08:09:26.548572"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 08:09:26.549887"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 08:09:26.549887"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 97], ["product_id", 66]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 66]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 66]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 97[0m  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 08:09:26.590690"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 08:09:26.593001"], ["updated_at", "2015-04-01 08:09:26.593001"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 08:09:26.594221"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 08:09:26.594221"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 98], ["product_id", 67]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 67]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 67]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 98[0m  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 08:09:26.603230"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 67]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2015-04-01 08:09:26.614358"], ["updated_at", "2015-04-01 08:09:26.614358"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 08:09:26.621827"], ["updated_at", "2015-04-01 08:09:26.621827"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 99[0m  [["customer_id", 27], ["updated_at", "2015-04-01 08:09:26.623936"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1[0m  [["customer_id", 27]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 99]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 99]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 99]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "customers_products" WHERE "customers_products"."customer_id" = $1[0m  [["customer_id", 27]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "customers" WHERE "customers"."id" = $1  [["id", 27]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 08:13:02.997336"], ["updated_at", "2015-04-01 08:13:02.997336"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 08:13:03.008703"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 08:13:03.008703"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 100], ["product_id", 68]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.5ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 100]]
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 68]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 100  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 08:13:03.055013"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 68]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "products" WHERE "products"."id" = $1  [["id", 68]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 100]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 100]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-04-01 08:13:03.064003"], ["updated_at", "2015-04-01 08:13:03.064003"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 08:13:03.102511"], ["updated_at", "2015-04-01 08:13:03.102511"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 101  [["customer_id", 28], ["updated_at", "2015-04-01 08:13:03.104631"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1  [["customer_id", 28]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 101]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 101]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 101]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "customers_products" WHERE "customers_products"."customer_id" = $1  [["customer_id", 28]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 28]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 08:13:03.115908"], ["updated_at", "2015-04-01 08:13:03.115908"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 08:13:03.117239"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 08:13:03.117239"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 102], ["product_id", 69]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 69]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 69]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 102  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 08:13:03.127335"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 69]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 08:13:03.141679"], ["updated_at", "2015-04-01 08:13:03.141679"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 08:13:03.142982"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 08:13:03.142982"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 103], ["product_id", 70]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 70]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 70]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 103[0m  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 08:13:03.150548"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-04-01 08:15:16.785045"], ["updated_at", "2015-04-01 08:15:16.785045"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 08:15:16.806128"], ["updated_at", "2015-04-01 08:15:16.806128"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 104  [["customer_id", 29], ["updated_at", "2015-04-01 08:15:16.820017"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1  [["customer_id", 29]]
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 104]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 104]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 104]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "customers_products" WHERE "customers_products"."customer_id" = $1  [["customer_id", 29]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 29]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 08:15:16.842626"], ["updated_at", "2015-04-01 08:15:16.842626"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 08:15:16.882626"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 08:15:16.882626"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 105], ["product_id", 71]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 71]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 71]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 105  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 08:15:16.899937"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 71]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 08:15:16.904400"], ["updated_at", "2015-04-01 08:15:16.904400"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 08:15:16.905557"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 08:15:16.905557"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 106], ["product_id", 72]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 72]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 72]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 106[0m  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 08:15:16.911742"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 08:15:16.922502"], ["updated_at", "2015-04-01 08:15:16.922502"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 08:15:16.923826"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 08:15:16.923826"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 107], ["product_id", 73]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 107]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 73]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 107  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 08:15:16.931336"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 73]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "products" WHERE "products"."id" = $1  [["id", 73]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 107]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 107]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 08:20:56.654048"], ["updated_at", "2015-04-01 08:20:56.654048"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 08:20:56.666779"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 08:20:56.666779"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 108], ["product_id", 74]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 108]]
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 74]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 108  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 08:20:56.697194"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 74]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "products" WHERE "products"."id" = $1  [["id", 74]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 108]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 108]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-04-01 08:20:56.705827"], ["updated_at", "2015-04-01 08:20:56.705827"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 08:20:56.746792"], ["updated_at", "2015-04-01 08:20:56.746792"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 109  [["customer_id", 30], ["updated_at", "2015-04-01 08:20:56.749434"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1  [["customer_id", 30]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 109]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 109]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 109]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "customers" WHERE "customers"."id" = $1  [["id", 30]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 08:20:56.758947"], ["updated_at", "2015-04-01 08:20:56.758947"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 08:20:56.760309"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 08:20:56.760309"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 110], ["product_id", 75]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 75]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 75]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 110[0m  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 08:20:56.768423"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 75]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 08:20:56.773053"], ["updated_at", "2015-04-01 08:20:56.773053"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 08:20:56.774217"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 08:20:56.774217"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 111], ["product_id", 76]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 76]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 76]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 111  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 08:20:56.782087"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-04-01 08:21:22.370139"], ["updated_at", "2015-04-01 08:21:22.370139"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 08:21:22.395247"], ["updated_at", "2015-04-01 08:21:22.395247"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 112  [["customer_id", 31], ["updated_at", "2015-04-01 08:21:22.404738"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1  [["customer_id", 31]]
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 112]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 112]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 112]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "customers" WHERE "customers"."id" = $1  [["id", 31]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 08:21:22.469188"], ["updated_at", "2015-04-01 08:21:22.469188"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 08:21:22.470857"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 08:21:22.470857"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 113], ["product_id", 77]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 77]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 77]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 113[0m  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 08:21:22.486676"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 08:21:22.490478"], ["updated_at", "2015-04-01 08:21:22.490478"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 08:21:22.491872"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 08:21:22.491872"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 114], ["product_id", 78]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 78]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 78]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 114[0m  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 08:21:22.498588"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 78]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 08:21:22.503331"], ["updated_at", "2015-04-01 08:21:22.503331"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 08:21:22.504344"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 08:21:22.504344"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 115], ["product_id", 79]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 115]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 79]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 115[0m  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 08:21:22.512165"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1  [["product_id", 79]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 79]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 115]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 115]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 09:00:01.920407"], ["updated_at", "2015-04-01 09:00:01.920407"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 09:00:01.926285"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 09:00:01.926285"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 116], ["product_id", 80]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.6ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 80]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 80]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 116[0m  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 09:00:02.007318"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 80]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 09:00:02.024345"], ["updated_at", "2015-04-01 09:00:02.024345"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 09:00:02.025850"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 09:00:02.025850"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 117], ["product_id", 81]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 81]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 81]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 117  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 09:00:02.034585"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2015-04-01 09:00:02.038789"], ["updated_at", "2015-04-01 09:00:02.038789"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 09:00:02.045996"], ["updated_at", "2015-04-01 09:00:02.045996"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 118[0m  [["customer_id", 32], ["updated_at", "2015-04-01 09:00:02.049687"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1[0m  [["customer_id", 32]]
  [1m[35mProduct Load (0.4ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 118]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 118]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 118]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 32]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 09:00:02.060680"], ["updated_at", "2015-04-01 09:00:02.060680"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 09:00:02.062514"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 09:00:02.062514"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 119], ["product_id", 82]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 119]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 82]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 119[0m  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 09:00:02.074546"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1  [["product_id", 82]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 82]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 119]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 119]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 09:01:13.312814"], ["updated_at", "2015-04-01 09:01:13.312814"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 09:01:13.323454"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 09:01:13.323454"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 120], ["product_id", 83]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 120]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 83]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 120  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 09:01:13.387622"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 83]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "products" WHERE "products"."id" = $1  [["id", 83]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 120]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 120]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 09:01:13.402489"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 09:01:13.402489"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 09:01:13.404267"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Jones"], ["updated_at", "2015-04-01 09:01:13.404267"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 09:01:13.405358"], ["email", "jjohnson@example.com"], ["first_name", "John"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 09:01:13.405358"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Load (2.1ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))
  [1m[36mCustomer Load (0.2ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2015-04-01 09:01:13.413031"], ["updated_at", "2015-04-01 09:01:13.413031"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 09:01:13.414617"], ["updated_at", "2015-04-01 09:01:13.414617"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 121[0m  [["customer_id", 36], ["updated_at", "2015-04-01 09:01:13.416887"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1[0m  [["customer_id", 36]]
  [1m[35mProduct Load (0.4ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 121]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 121]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 121]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 36]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 09:01:13.433110"], ["updated_at", "2015-04-01 09:01:13.433110"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 09:01:13.434463"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 09:01:13.434463"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 122], ["product_id", 84]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 84]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 84]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 122  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 09:01:13.443361"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 09:01:13.446504"], ["updated_at", "2015-04-01 09:01:13.446504"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 09:01:13.447775"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 09:01:13.447775"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 123], ["product_id", 85]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 85]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 85]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 123  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 09:01:13.456626"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 85]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 09:02:04.968520"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 09:02:04.968520"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 09:02:04.972057"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 09:02:04.972057"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 09:02:04.973265"], ["email", "jjohnson@example.com"], ["first_name", "John"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 09:02:04.973265"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Load (0.4ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))
  [1m[36mCustomer Load (0.2ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2015-04-01 09:02:04.978506"], ["updated_at", "2015-04-01 09:02:04.978506"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 09:02:04.993331"], ["updated_at", "2015-04-01 09:02:04.993331"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 124[0m  [["customer_id", 40], ["updated_at", "2015-04-01 09:02:05.003206"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1[0m  [["customer_id", 40]]
  [1m[35mProduct Load (0.4ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 124]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 124]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 124]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 40]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 09:02:05.056742"], ["updated_at", "2015-04-01 09:02:05.056742"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 09:02:05.064229"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 09:02:05.064229"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 125], ["product_id", 86]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 125]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 86]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 125[0m  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 09:02:05.080714"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1  [["product_id", 86]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 86]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 125]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 125]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 09:02:05.095211"], ["updated_at", "2015-04-01 09:02:05.095211"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 09:02:05.096687"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 09:02:05.096687"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 126], ["product_id", 87]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 87]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 87]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 126  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 09:02:05.106421"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 09:02:05.108578"], ["updated_at", "2015-04-01 09:02:05.108578"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 09:02:05.109825"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 09:02:05.109825"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 127], ["product_id", 88]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 88]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 88]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 127  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 09:02:05.116690"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 88]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 09:02:32.564728"], ["updated_at", "2015-04-01 09:02:32.564728"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 09:02:32.568413"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 09:02:32.568413"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 128], ["product_id", 89]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 89]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 89]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 128[0m  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 09:02:32.630180"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 89]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 09:02:32.637610"], ["updated_at", "2015-04-01 09:02:32.637610"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 09:02:32.638883"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 09:02:32.638883"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 129], ["product_id", 90]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 90]]
  [1m[35mOrder Load (0.4ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 90]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 129  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 09:02:32.646776"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2015-04-01 09:02:32.650883"], ["updated_at", "2015-04-01 09:02:32.650883"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 09:02:32.658128"], ["updated_at", "2015-04-01 09:02:32.658128"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 130[0m  [["customer_id", 41], ["updated_at", "2015-04-01 09:02:32.660292"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1[0m  [["customer_id", 41]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 130]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 130]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 130]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 41]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 09:02:32.669551"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 09:02:32.669551"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 09:02:32.670886"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 09:02:32.670886"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 09:02:32.672170"], ["email", "jjohnson@example.com"], ["first_name", "John"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 09:02:32.672170"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))[0m
  [1m[35mCustomer Load (0.2ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 09:02:32.677401"], ["updated_at", "2015-04-01 09:02:32.677401"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 09:02:32.678840"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 09:02:32.678840"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 131], ["product_id", 91]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 131]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 91]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 131  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 09:02:32.688361"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 91]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "products" WHERE "products"."id" = $1  [["id", 91]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 131]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 131]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 09:32:56.733081"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 09:32:56.733081"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 09:32:56.737447"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 09:32:56.737447"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 09:32:56.738969"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 09:32:56.738969"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Load (0.6ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))
  [1m[36mCustomer Load (0.2ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2015-04-01 09:32:56.745028"], ["updated_at", "2015-04-01 09:32:56.745028"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 09:32:56.760172"], ["updated_at", "2015-04-01 09:32:56.760172"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 132[0m  [["customer_id", 48], ["updated_at", "2015-04-01 09:32:56.776165"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1[0m  [["customer_id", 48]]
  [1m[35mProduct Load (0.9ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 132]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 132]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 132]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 48]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 09:32:56.835845"], ["updated_at", "2015-04-01 09:32:56.835845"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 09:32:56.843430"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 09:32:56.843430"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 133], ["product_id", 92]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 133]]
  [1m[35mOrder Load (0.5ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 92]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 133[0m  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 09:32:56.861952"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1  [["product_id", 92]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 92]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 133]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 133]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 09:32:56.882551"], ["updated_at", "2015-04-01 09:32:56.882551"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 09:32:56.884007"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 09:32:56.884007"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 134], ["product_id", 93]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 93]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 93]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 134  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 09:32:56.895495"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 93]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 09:32:56.898849"], ["updated_at", "2015-04-01 09:32:56.898849"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 09:32:56.899990"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 09:32:56.899990"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 135], ["product_id", 94]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 94]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 94]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 135[0m  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 09:32:56.908147"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-04-01 09:33:42.775402"], ["updated_at", "2015-04-01 09:33:42.775402"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 09:33:42.803502"], ["updated_at", "2015-04-01 09:33:42.803502"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 136  [["customer_id", 49], ["updated_at", "2015-04-01 09:33:42.815244"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1  [["customer_id", 49]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 136]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 136]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 136]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "customers" WHERE "customers"."id" = $1  [["id", 49]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 09:33:42.835555"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 09:33:42.835555"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 09:33:42.837041"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 09:33:42.837041"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 09:33:42.838047"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 09:33:42.838047"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Load (0.3ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))
  [1m[36mCustomer Load (0.1ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 09:33:42.888280"], ["updated_at", "2015-04-01 09:33:42.888280"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 09:33:42.889808"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 09:33:42.889808"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 137], ["product_id", 95]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 95]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 95]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 137  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 09:33:42.904402"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 95]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 09:33:42.917260"], ["updated_at", "2015-04-01 09:33:42.917260"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 09:33:42.918586"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 09:33:42.918586"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 138], ["product_id", 96]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 96]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 96]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 138[0m  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 09:33:42.926554"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 09:33:42.928657"], ["updated_at", "2015-04-01 09:33:42.928657"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 09:33:42.929761"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 09:33:42.929761"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 139], ["product_id", 97]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 139]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 97]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 139  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 09:33:42.939760"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 97]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "products" WHERE "products"."id" = $1  [["id", 97]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 139]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 139]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-04-01 09:37:16.609850"], ["updated_at", "2015-04-01 09:37:16.609850"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 09:37:16.637111"], ["updated_at", "2015-04-01 09:37:16.637111"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 140  [["customer_id", 53], ["updated_at", "2015-04-01 09:37:16.648697"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1  [["customer_id", 53]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 140]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 140]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 140]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "customers" WHERE "customers"."id" = $1  [["id", 53]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 09:37:16.668615"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 09:37:16.668615"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 09:37:16.670076"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 09:37:16.670076"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 09:37:16.671091"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 09:37:16.671091"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Load (0.3ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))
  [1m[36mCustomer Load (0.2ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 09:37:16.714298"], ["updated_at", "2015-04-01 09:37:16.714298"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 09:37:16.723150"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 09:37:16.723150"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 141], ["product_id", 98]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 98]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 98]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 141  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 09:37:16.741023"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 09:37:16.744778"], ["updated_at", "2015-04-01 09:37:16.744778"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 09:37:16.745982"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 09:37:16.745982"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 142], ["product_id", 99]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 99]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 99]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 142  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 09:37:16.755313"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 99]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 09:37:16.767405"], ["updated_at", "2015-04-01 09:37:16.767405"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 09:37:16.768824"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 09:37:16.768824"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 143], ["product_id", 100]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 143]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 100]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 143  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 09:37:16.778848"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 100]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "products" WHERE "products"."id" = $1  [["id", 100]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 143]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 143]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 09:42:34.434774"], ["updated_at", "2015-04-01 09:42:34.434774"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 09:42:34.445983"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 09:42:34.445983"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 144], ["product_id", 101]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.4ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 144]]
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 101]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 144  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 09:42:34.479716"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 101]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "products" WHERE "products"."id" = $1  [["id", 101]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 144]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 144]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-04-01 09:42:34.488286"], ["updated_at", "2015-04-01 09:42:34.488286"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 09:42:34.530317"], ["updated_at", "2015-04-01 09:42:34.530317"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 145  [["customer_id", 57], ["updated_at", "2015-04-01 09:42:34.532647"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1  [["customer_id", 57]]
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 145]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 145]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 145]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "customers" WHERE "customers"."id" = $1  [["id", 57]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 09:42:34.543099"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 09:42:34.543099"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 09:42:34.544617"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 09:42:34.544617"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 09:42:34.545814"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 09:42:34.545814"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Load (0.3ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))
  [1m[36mCustomer Load (0.2ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 09:42:34.551306"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 09:42:34.551306"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 09:42:34.552605"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 09:42:34.552605"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 09:42:34.553585"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 09:42:34.553585"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.2ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))[0m
  [1m[35mCustomer Load (0.1ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 09:42:34.565416"], ["updated_at", "2015-04-01 09:42:34.565416"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 09:42:34.567023"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 09:42:34.567023"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 146], ["product_id", 102]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 102]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 102]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 146[0m  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 09:42:34.578923"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 102]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 09:42:34.584808"], ["updated_at", "2015-04-01 09:42:34.584808"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 09:42:34.586200"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 09:42:34.586200"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 147], ["product_id", 103]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 103]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 103]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 147  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 09:42:34.594250"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 09:59:17.847826"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 09:59:17.847826"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 09:59:17.852934"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 09:59:17.852934"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 09:59:17.854151"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 09:59:17.854151"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2015-04-01 09:59:17.855019"], ["updated_at", "2015-04-01 09:59:17.855019"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 09:59:17.868856"], ["updated_at", "2015-04-01 09:59:17.868856"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 148[0m  [["customer_id", 67], ["updated_at", "2015-04-01 09:59:17.883023"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1[0m  [["customer_id", 67]]
  [1m[35mProduct Load (0.8ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 148]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 148]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 148]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 67]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 09:59:17.908107"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 09:59:17.908107"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 09:59:17.909348"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 09:59:17.909348"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 09:59:17.910538"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 09:59:17.910538"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))[0m
  [1m[35mCustomer Load (0.2ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 09:59:17.913305"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 09:59:17.913305"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 09:59:17.914215"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 09:59:17.914215"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 09:59:17.915103"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 09:59:17.915103"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 09:59:17.916612"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 09:59:17.916612"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 09:59:17.917523"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 09:59:17.917523"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 09:59:17.918440"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 09:59:17.918440"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.1ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))[0m
  [1m[35mCustomer Load (0.2ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 09:59:17.921099"], ["updated_at", "2015-04-01 09:59:17.921099"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 09:59:17.967358"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 09:59:17.967358"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 149], ["product_id", 104]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 104]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 104]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 149[0m  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 09:59:17.986254"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 104]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 09:59:18.002991"], ["updated_at", "2015-04-01 09:59:18.002991"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 09:59:18.004357"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 09:59:18.004357"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 150], ["product_id", 105]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 105]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 105]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 150  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 09:59:18.012617"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 09:59:18.016769"], ["updated_at", "2015-04-01 09:59:18.016769"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 09:59:18.017973"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 09:59:18.017973"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 151], ["product_id", 106]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 151]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 106]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 151[0m  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 09:59:18.027913"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1  [["product_id", 106]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 106]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 151]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 151]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 10:00:25.773936"], ["updated_at", "2015-04-01 10:00:25.773936"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 10:00:25.787494"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 10:00:25.787494"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 152], ["product_id", 107]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 152]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 107]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 152  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 10:00:25.816691"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 107]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "products" WHERE "products"."id" = $1  [["id", 107]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 152]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 152]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 10:00:25.860053"], ["updated_at", "2015-04-01 10:00:25.860053"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 10:00:25.861514"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 10:00:25.861514"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 153], ["product_id", 108]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 108]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 108]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 153[0m  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 10:00:25.869934"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 10:00:25.873253"], ["updated_at", "2015-04-01 10:00:25.873253"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 10:00:25.874365"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 10:00:25.874365"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 154], ["product_id", 109]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 109]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 109]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 154[0m  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 10:00:25.883501"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 109]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 10:00:25.899722"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 10:00:25.899722"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 10:00:25.901773"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 10:00:25.901773"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 10:00:25.902841"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 10:00:25.902841"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))[0m
  [1m[35mCustomer Load (0.2ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 10:00:25.906947"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 10:00:25.906947"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 10:00:25.908207"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 10:00:25.908207"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 10:00:25.909273"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 10:00:25.909273"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Load (0.1ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))
  [1m[36mCustomer Load (0.1ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 10:00:25.912948"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 10:00:25.912948"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 10:00:25.913996"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 10:00:25.913996"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 10:00:25.914879"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 10:00:25.914879"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 10:00:25.916426"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 10:00:25.916426"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 10:00:25.917363"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 10:00:25.917363"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 10:00:25.918251"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 10:00:25.918251"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2015-04-01 10:00:25.919126"], ["updated_at", "2015-04-01 10:00:25.919126"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 10:00:25.920318"], ["updated_at", "2015-04-01 10:00:25.920318"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 155[0m  [["customer_id", 89], ["updated_at", "2015-04-01 10:00:25.922391"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1[0m  [["customer_id", 89]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 155]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 155]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 155]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 89]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 17:50:53.108576"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 17:50:53.108576"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 17:50:53.114673"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 17:50:53.114673"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 17:50:53.116174"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 17:50:53.116174"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-04-01 17:50:53.117411"], ["updated_at", "2015-04-01 17:50:53.117411"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 17:50:53.136564"], ["updated_at", "2015-04-01 17:50:53.136564"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 156  [["customer_id", 93], ["updated_at", "2015-04-01 17:50:53.150473"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1  [["customer_id", 93]]
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 156]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 156]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 156]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "customers" WHERE "customers"."id" = $1  [["id", 93]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 17:50:53.175811"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 17:50:53.175811"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 17:50:53.177212"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 17:50:53.177212"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 17:50:53.178344"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 17:50:53.178344"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Load (0.3ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))
  [1m[36mCustomer Load (0.2ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 17:50:53.219231"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 17:50:53.219231"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 17:50:53.220938"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 17:50:53.220938"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 17:50:53.222161"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 17:50:53.222161"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 17:50:53.223881"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 17:50:53.223881"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 17:50:53.225210"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 17:50:53.225210"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 17:50:53.226504"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 17:50:53.226504"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Load (0.2ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))
  [1m[36mCustomer Load (0.2ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 17:50:53.240865"], ["updated_at", "2015-04-01 17:50:53.240865"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 17:50:53.242322"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 17:50:53.242322"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 157], ["product_id", 110]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 110]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 110]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 157  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 17:50:53.260524"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 110]]
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 17:50:53.266409"], ["updated_at", "2015-04-01 17:50:53.266409"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 17:50:53.268179"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 17:50:53.268179"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 158], ["product_id", 111]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 111]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 111]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 158[0m  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 17:50:53.277675"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 17:50:53.289732"], ["updated_at", "2015-04-01 17:50:53.289732"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 17:50:53.291067"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 17:50:53.291067"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 159], ["product_id", 112]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 159]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 112]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 159  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 17:50:53.300962"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 112]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "products" WHERE "products"."id" = $1  [["id", 112]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 159]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 159]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 17:58:24.852790"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 17:58:24.852790"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 17:58:24.856536"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 17:58:24.856536"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 17:58:24.857745"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 17:58:24.857745"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.4ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))[0m
  [1m[35mCustomer Load (0.2ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 17:58:24.861866"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 17:58:24.861866"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 17:58:24.863173"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 17:58:24.863173"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 17:58:24.864206"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 17:58:24.864206"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2015-04-01 17:58:24.865239"], ["updated_at", "2015-04-01 17:58:24.865239"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 17:58:24.879664"], ["updated_at", "2015-04-01 17:58:24.879664"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 160[0m  [["customer_id", 109], ["updated_at", "2015-04-01 17:58:24.889225"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1[0m  [["customer_id", 109]]
  [1m[35mProduct Load (0.4ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 160]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 160]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 160]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 109]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 17:58:24.942766"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 17:58:24.942766"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 17:58:24.944047"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 17:58:24.944047"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 17:58:24.945074"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 17:58:24.945074"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (1.4ms)[0m  [1mSELECT  "customers".* FROM "customers"   ORDER BY "customers"."created_at" DESC LIMIT 15[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 17:58:24.951053"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 17:58:24.951053"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 17:58:24.952321"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 17:58:24.952321"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 17:58:24.953351"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 17:58:24.953351"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.2ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))[0m
  [1m[35mCustomer Load (0.2ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 17:58:24.964454"], ["updated_at", "2015-04-01 17:58:24.964454"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 17:58:24.965713"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 17:58:24.965713"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 161], ["product_id", 113]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 113]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 113]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 161[0m  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 17:58:24.982458"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 17:58:24.985194"], ["updated_at", "2015-04-01 17:58:24.985194"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 17:58:24.986512"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 17:58:24.986512"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 162], ["product_id", 114]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 114]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 114]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 162[0m  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 17:58:24.994348"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 114]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 17:58:25.012944"], ["updated_at", "2015-04-01 17:58:25.012944"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 17:58:25.014485"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 17:58:25.014485"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 163], ["product_id", 115]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 163]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 115]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 163[0m  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 17:58:25.023632"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1  [["product_id", 115]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 115]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 163]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 163]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 17:58:56.409875"], ["updated_at", "2015-04-01 17:58:56.409875"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 17:58:56.421067"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 17:58:56.421067"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 164], ["product_id", 116]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 116]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 116]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 164  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 17:58:56.450517"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 116]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 17:58:56.495756"], ["updated_at", "2015-04-01 17:58:56.495756"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 17:58:56.497139"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 17:58:56.497139"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 165], ["product_id", 117]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 117]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 117]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 165[0m  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 17:58:56.504422"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 17:58:56.514015"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 17:58:56.514015"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 17:58:56.515918"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 17:58:56.515918"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 17:58:56.516899"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 17:58:56.516899"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Load (0.3ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))
  [1m[36mCustomer Load (0.1ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 17:58:56.520558"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 17:58:56.520558"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 17:58:56.521843"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 17:58:56.521843"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 17:58:56.523050"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 17:58:56.523050"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-04-01 17:58:56.524097"], ["updated_at", "2015-04-01 17:58:56.524097"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 17:58:56.525370"], ["updated_at", "2015-04-01 17:58:56.525370"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 166  [["customer_id", 122], ["updated_at", "2015-04-01 17:58:56.527593"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1  [["customer_id", 122]]
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 166]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 166]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 166]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "customers" WHERE "customers"."id" = $1  [["id", 122]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 17:58:56.535978"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 17:58:56.535978"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 17:58:56.537008"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 17:58:56.537008"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 17:58:56.538000"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 17:58:56.538000"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Load (0.2ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))
  [1m[36mCustomer Load (0.1ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 17:58:56.541392"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 17:58:56.541392"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 17:58:56.542619"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 17:58:56.542619"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 17:58:56.543555"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 17:58:56.543555"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT  "customers".* FROM "customers"   ORDER BY "customers"."created_at" DESC LIMIT 15[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 17:58:56.546391"], ["updated_at", "2015-04-01 17:58:56.546391"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 17:58:56.547746"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 17:58:56.547746"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 167], ["product_id", 118]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 167]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 118]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 167[0m  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 17:58:56.556299"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1  [["product_id", 118]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 118]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 167]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 167]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 18:44:23.549833"], ["updated_at", "2015-04-01 18:44:23.549833"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 18:44:23.554551"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 18:44:23.554551"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 168], ["product_id", 119]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 119]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 119]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 168  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 18:44:23.620472"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 119]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 18:44:23.625355"], ["updated_at", "2015-04-01 18:44:23.625355"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 18:44:23.626633"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 18:44:23.626633"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 169], ["product_id", 120]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 120]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 120]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 169[0m  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 18:44:23.634082"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 18:44:23.636867"], ["updated_at", "2015-04-01 18:44:23.636867"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 18:44:23.638095"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 18:44:23.638095"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 170], ["product_id", 121]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 170]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 121]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 170  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 18:44:23.646264"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 121]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "products" WHERE "products"."id" = $1  [["id", 121]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 170]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 170]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 18:44:23.661467"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 18:44:23.661467"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 18:44:23.664181"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 18:44:23.664181"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 18:44:23.665604"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 18:44:23.665604"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Load (0.4ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))
  [1m[36mCustomer Load (0.2ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 18:44:23.670199"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 18:44:23.670199"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 18:44:23.671466"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 18:44:23.671466"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 18:44:23.672437"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 18:44:23.672437"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.2ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))[0m
  [1m[35mCustomer Load (0.1ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 18:44:23.675756"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 18:44:23.675756"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 18:44:23.677147"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 18:44:23.677147"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 18:44:23.678282"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 18:44:23.678282"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2015-04-01 18:44:23.679272"], ["updated_at", "2015-04-01 18:44:23.679272"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 18:44:23.680466"], ["updated_at", "2015-04-01 18:44:23.680466"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 171[0m  [["customer_id", 138], ["updated_at", "2015-04-01 18:44:23.682536"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1[0m  [["customer_id", 138]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 171]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 171]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 171]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 138]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 18:44:23.690302"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 18:44:23.690302"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 18:44:23.691347"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 18:44:23.691347"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 18:44:23.692234"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 18:44:23.692234"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT  "customers".* FROM "customers"   ORDER BY "customers"."created_at" DESC LIMIT 15[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 18:44:52.030264"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 18:44:52.030264"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 18:44:52.033777"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 18:44:52.033777"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 18:44:52.035039"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 18:44:52.035039"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.5ms)[0m  [1mSELECT  "customers".* FROM "customers"   ORDER BY "customers"."created_at" DESC LIMIT 15[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 18:44:52.039803"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 18:44:52.039803"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 18:44:52.041325"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 18:44:52.041325"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 18:44:52.042553"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 18:44:52.042553"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))[0m
  [1m[35mCustomer Load (0.1ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 18:44:52.045713"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 18:44:52.045713"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 18:44:52.046735"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 18:44:52.046735"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 18:44:52.047706"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 18:44:52.047706"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2015-04-01 18:44:52.048617"], ["updated_at", "2015-04-01 18:44:52.048617"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 18:44:52.063277"], ["updated_at", "2015-04-01 18:44:52.063277"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 172[0m  [["customer_id", 151], ["updated_at", "2015-04-01 18:44:52.072055"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1[0m  [["customer_id", 151]]
  [1m[35mProduct Load (0.4ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 172]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 172]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 172]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 151]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 18:44:52.127550"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 18:44:52.127550"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 18:44:52.128788"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 18:44:52.128788"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 18:44:52.129789"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 18:44:52.129789"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.2ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))[0m
  [1m[35mCustomer Load (0.2ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "delivery", "store_location", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 18:44:52.133852"], ["delivery", "100.0"], ["store_location", "Oakland"], ["updated_at", "2015-04-01 18:44:52.133852"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 173[0m  [["balance_due", "109.0"], ["delivery_with_tax", "109.0"], ["grand_total", "109.0"], ["updated_at", "2015-04-01 18:44:52.136521"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 18:44:52.138688"], ["updated_at", "2015-04-01 18:44:52.138688"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 18:44:52.146138"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 18:44:52.146138"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 174], ["product_id", 122]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 174]]
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 122]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 174  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 18:44:52.162899"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 122]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "products" WHERE "products"."id" = $1  [["id", 122]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 174]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 174]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 18:44:52.176516"], ["updated_at", "2015-04-01 18:44:52.176516"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 18:44:52.177750"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 18:44:52.177750"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 175], ["product_id", 123]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 123]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 123]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 175[0m  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 18:44:52.188142"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 18:44:52.190320"], ["updated_at", "2015-04-01 18:44:52.190320"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 18:44:52.191460"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 18:44:52.191460"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 176], ["product_id", 124]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 124]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 124]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 176[0m  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 18:44:52.197613"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 124]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 18:53:54.834655"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 18:53:54.834655"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 18:53:54.838332"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 18:53:54.838332"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 18:53:54.839554"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 18:53:54.839554"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.4ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))[0m
  [1m[35mCustomer Load (0.2ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 18:53:54.843822"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 18:53:54.843822"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 18:53:54.845160"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 18:53:54.845160"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 18:53:54.846230"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 18:53:54.846230"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2015-04-01 18:53:54.847243"], ["updated_at", "2015-04-01 18:53:54.847243"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 18:53:54.864204"], ["updated_at", "2015-04-01 18:53:54.864204"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 177[0m  [["customer_id", 161], ["updated_at", "2015-04-01 18:53:54.874685"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1[0m  [["customer_id", 161]]
  [1m[35mProduct Load (0.5ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 177]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 177]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 177]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 18:53:54.929282"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 18:53:54.929282"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 18:53:54.930509"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 18:53:54.930509"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 18:53:54.931489"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 18:53:54.931489"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT  "customers".* FROM "customers"   ORDER BY "customers"."created_at" DESC LIMIT 15[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 18:53:54.935040"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 18:53:54.935040"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 18:53:54.936191"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 18:53:54.936191"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 18:53:54.937231"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 18:53:54.937231"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.2ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))[0m
  [1m[35mCustomer Load (0.2ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 18:53:54.952378"], ["updated_at", "2015-04-01 18:53:54.952378"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 18:53:54.953890"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 18:53:54.953890"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 178], ["product_id", 125]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 125]]
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 125]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 178[0m  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 18:53:54.971878"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 18:53:54.974658"], ["updated_at", "2015-04-01 18:53:54.974658"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 18:53:54.976339"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 18:53:54.976339"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 179], ["product_id", 126]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 126]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 126]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 179[0m  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 18:53:54.983308"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 126]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 18:53:54.989001"], ["updated_at", "2015-04-01 18:53:54.989001"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 18:53:54.990343"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 18:53:54.990343"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 180], ["product_id", 127]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 180]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 127]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 180[0m  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 18:53:54.999845"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1  [["product_id", 127]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 127]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 180]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 180]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 18:53:55.005241"], ["delivery", "100.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 18:53:55.005241"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 181  [["balance_due", "309.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 18:53:55.006664"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "delivery", "store_location", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 18:53:55.008567"], ["delivery", "100.0"], ["store_location", "Oakland"], ["updated_at", "2015-04-01 18:53:55.008567"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 182  [["balance_due", "109.0"], ["delivery_with_tax", "109.0"], ["grand_total", "109.0"], ["updated_at", "2015-04-01 18:53:55.009834"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 18:55:54.981947"], ["updated_at", "2015-04-01 18:55:54.981947"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 18:55:54.985469"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 18:55:54.985469"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 183], ["product_id", 128]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 128]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 128]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 183  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 18:55:55.051066"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 18:55:55.054252"], ["updated_at", "2015-04-01 18:55:55.054252"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 18:55:55.055644"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 18:55:55.055644"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 184], ["product_id", 129]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 129]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 129]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 184  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 18:55:55.066589"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 129]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 18:55:55.078746"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 18:55:55.078746"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 18:55:55.080466"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 18:55:55.080466"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 18:55:55.081457"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 18:55:55.081457"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Load (0.3ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))
  [1m[36mCustomer Load (0.1ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 18:55:55.085226"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 18:55:55.085226"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 18:55:55.086402"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 18:55:55.086402"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 18:55:55.087541"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 18:55:55.087541"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.4ms)[0m  [1mSELECT  "customers".* FROM "customers"   ORDER BY "customers"."created_at" DESC LIMIT 15[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 18:55:55.091249"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 18:55:55.091249"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 18:55:55.092605"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 18:55:55.092605"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 18:55:55.093636"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 18:55:55.093636"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-04-01 18:55:55.094502"], ["updated_at", "2015-04-01 18:55:55.094502"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 18:55:55.095643"], ["updated_at", "2015-04-01 18:55:55.095643"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 185  [["customer_id", 177], ["updated_at", "2015-04-01 18:55:55.097676"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1  [["customer_id", 177]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 185]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 185]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 185]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "customers" WHERE "customers"."id" = $1  [["id", 177]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 18:55:55.106197"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 18:55:55.106197"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 18:55:55.107329"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 18:55:55.107329"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 18:55:55.108446"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 18:55:55.108446"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Load (0.2ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))
  [1m[36mCustomer Load (0.2ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 18:55:55.111491"], ["delivery", "100.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 18:55:55.111491"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 186  [["balance_due", "309.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 18:55:55.112909"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "deposit", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 18:55:55.114912"], ["delivery", "100.0"], ["deposit", "300.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 18:55:55.114912"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 187  [["balance_due", "9.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 18:55:55.116129"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 18:55:55.117891"], ["updated_at", "2015-04-01 18:55:55.117891"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 18:55:55.119173"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 18:55:55.119173"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 188], ["product_id", 130]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 188]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 130]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 188[0m  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 18:55:55.127219"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1  [["product_id", 130]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 130]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 188]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 188]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "delivery", "store_location", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 18:55:55.131740"], ["delivery", "100.0"], ["store_location", "Oakland"], ["updated_at", "2015-04-01 18:55:55.131740"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 189  [["balance_due", "109.0"], ["delivery_with_tax", "109.0"], ["grand_total", "109.0"], ["updated_at", "2015-04-01 18:55:55.132868"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "delivery", "store_location", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 18:56:13.561069"], ["delivery", "100.0"], ["store_location", "Oakland"], ["updated_at", "2015-04-01 18:56:13.561069"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 190  [["balance_due", "109.0"], ["delivery_with_tax", "109.0"], ["grand_total", "109.0"], ["updated_at", "2015-04-01 18:56:13.566955"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 18:56:13.570470"], ["delivery", "100.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 18:56:13.570470"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 191  [["balance_due", "309.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 18:56:13.572019"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "deposit", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 18:56:13.573944"], ["delivery", "100.0"], ["deposit", "300.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 18:56:13.573944"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 192  [["balance_due", "9.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 18:56:13.575262"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 18:56:13.576990"], ["updated_at", "2015-04-01 18:56:13.576990"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 18:56:13.586514"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 18:56:13.586514"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 193], ["product_id", 131]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 193]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 131]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 193[0m  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 18:56:13.643969"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1  [["product_id", 131]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 131]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 193]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 193]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 18:56:13.649087"], ["updated_at", "2015-04-01 18:56:13.649087"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 18:56:13.650366"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 18:56:13.650366"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 194], ["product_id", 132]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 132]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 132]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 194  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 18:56:13.659212"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 18:56:13.670402"], ["updated_at", "2015-04-01 18:56:13.670402"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 18:56:13.671928"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 18:56:13.671928"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 195], ["product_id", 133]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 133]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 133]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 195  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 18:56:13.682161"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 133]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 18:56:13.693462"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 18:56:13.693462"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 18:56:13.695236"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 18:56:13.695236"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 18:56:13.696467"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 18:56:13.696467"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Load (0.4ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))
  [1m[36mCustomer Load (0.2ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 18:56:13.700992"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 18:56:13.700992"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 18:56:13.702418"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 18:56:13.702418"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 18:56:13.703592"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 18:56:13.703592"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.2ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))[0m
  [1m[35mCustomer Load (0.2ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 18:56:13.707299"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 18:56:13.707299"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 18:56:13.708419"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 18:56:13.708419"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 18:56:13.709301"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 18:56:13.709301"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Load (0.3ms)[0m  SELECT  "customers".* FROM "customers"   ORDER BY "customers"."created_at" DESC LIMIT 15
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 18:56:13.711484"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 18:56:13.711484"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 18:56:13.712389"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 18:56:13.712389"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 18:56:13.713326"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 18:56:13.713326"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2015-04-01 18:56:13.714226"], ["updated_at", "2015-04-01 18:56:13.714226"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 18:56:13.715355"], ["updated_at", "2015-04-01 18:56:13.715355"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 196[0m  [["customer_id", 193], ["updated_at", "2015-04-01 18:56:13.717488"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1[0m  [["customer_id", 193]]
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 196]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 196]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 196]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 193]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "delivery", "store_location", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 19:03:46.079165"], ["delivery", "100.0"], ["store_location", "Oakland"], ["updated_at", "2015-04-01 19:03:46.079165"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 197  [["balance_due", "109.0"], ["delivery_with_tax", "109.0"], ["grand_total", "109.0"], ["updated_at", "2015-04-01 19:03:46.086503"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 19:03:46.090162"], ["delivery", "100.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 19:03:46.090162"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 198  [["balance_due", "309.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 19:03:46.091702"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 19:03:46.093606"], ["updated_at", "2015-04-01 19:03:46.093606"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 19:03:46.103083"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 19:03:46.103083"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 199], ["product_id", 134]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 199]]
  [1m[35mOrder Load (0.4ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 134]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 199[0m  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 19:03:46.168592"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1  [["product_id", 134]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 134]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 199]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 199]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "deposit", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 19:03:46.175501"], ["delivery", "100.0"], ["deposit", "300.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 19:03:46.175501"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 200  [["balance_due", "9.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 19:03:46.177052"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 19:03:46.188399"], ["updated_at", "2015-04-01 19:03:46.188399"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 19:03:46.189709"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 19:03:46.189709"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 201], ["product_id", 135]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 135]]
  [1m[35mOrder Load (0.4ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 135]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 201  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 19:03:46.203887"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 135]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 19:03:46.208922"], ["updated_at", "2015-04-01 19:03:46.208922"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 19:03:46.210137"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 19:03:46.210137"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 202], ["product_id", 136]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 136]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 136]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 202[0m  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 19:03:46.216990"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:03:46.226556"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 19:03:46.226556"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:03:46.228400"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 19:03:46.228400"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:03:46.229479"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 19:03:46.229479"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Load (0.3ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))
  [1m[36mCustomer Load (0.1ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:03:46.233230"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 19:03:46.233230"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:03:46.234535"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 19:03:46.234535"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:03:46.235659"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 19:03:46.235659"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.1ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))[0m
  [1m[35mCustomer Load (0.1ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:03:46.239101"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 19:03:46.239101"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:03:46.240175"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 19:03:46.240175"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:03:46.241097"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 19:03:46.241097"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2015-04-01 19:03:46.242013"], ["updated_at", "2015-04-01 19:03:46.242013"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 19:03:46.243200"], ["updated_at", "2015-04-01 19:03:46.243200"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 203[0m  [["customer_id", 203], ["updated_at", "2015-04-01 19:03:46.245351"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1[0m  [["customer_id", 203]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 203]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 203]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 203]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 203]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:03:46.253963"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 19:03:46.253963"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:03:46.255135"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 19:03:46.255135"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:03:46.256203"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 19:03:46.256203"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT  "customers".* FROM "customers"   ORDER BY "customers"."created_at" DESC LIMIT 15[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "deposit", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 19:23:53.185277"], ["delivery", "100.0"], ["deposit", "300.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 19:23:53.185277"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 204  [["balance_due", "9.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 19:23:53.193814"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "delivery", "store_location", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 19:23:53.197225"], ["delivery", "100.0"], ["store_location", "Oakland"], ["updated_at", "2015-04-01 19:23:53.197225"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 205  [["balance_due", "109.0"], ["delivery_with_tax", "109.0"], ["grand_total", "109.0"], ["updated_at", "2015-04-01 19:23:53.198653"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 19:23:53.200625"], ["delivery", "100.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 19:23:53.200625"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 206  [["balance_due", "309.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 19:23:53.201944"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 19:23:53.203771"], ["updated_at", "2015-04-01 19:23:53.203771"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 19:23:53.212942"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 19:23:53.212942"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 207], ["product_id", 137]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 207]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 137]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 207[0m  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 19:23:53.279972"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1  [["product_id", 137]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 137]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 207]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 207]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 19:23:53.288421"], ["updated_at", "2015-04-01 19:23:53.288421"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 19:23:53.289772"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 19:23:53.289772"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 208], ["product_id", 138]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 138]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 138]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 208  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 19:23:53.300112"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 19:23:53.309604"], ["updated_at", "2015-04-01 19:23:53.309604"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 19:23:53.310938"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 19:23:53.310938"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 209], ["product_id", 139]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 139]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 139]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 209  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 19:23:53.319924"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 139]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:23:53.330682"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 19:23:53.330682"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:23:53.332342"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 19:23:53.332342"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:23:53.333371"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 19:23:53.333371"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Load (0.4ms)[0m  SELECT  "customers".* FROM "customers"   ORDER BY "customers"."created_at" DESC LIMIT 15
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:23:53.336636"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 19:23:53.336636"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:23:53.337867"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 19:23:53.337867"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:23:53.338854"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 19:23:53.338854"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Load (0.3ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))
  [1m[36mCustomer Load (0.1ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:23:53.341436"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 19:23:53.341436"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:23:53.342360"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 19:23:53.342360"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:23:53.343254"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 19:23:53.343254"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.1ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))[0m
  [1m[35mCustomer Load (0.2ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:23:53.346771"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 19:23:53.346771"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:23:53.348042"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 19:23:53.348042"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:23:53.349062"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 19:23:53.349062"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2015-04-01 19:23:53.350016"], ["updated_at", "2015-04-01 19:23:53.350016"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 19:23:53.351436"], ["updated_at", "2015-04-01 19:23:53.351436"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 210[0m  [["customer_id", 219], ["updated_at", "2015-04-01 19:23:53.353820"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1[0m  [["customer_id", 219]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 210]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 210]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 210]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 219]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 19:28:53.449673"], ["updated_at", "2015-04-01 19:28:53.449673"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 19:28:53.453333"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 19:28:53.453333"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 211], ["product_id", 140]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 140]]
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 19:28:53.480175"], ["updated_at", "2015-04-01 19:28:53.480175"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 19:28:53.482023"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 19:28:53.482023"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 212], ["product_id", 141]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 141]]
  [1m[35mOrder Load (0.5ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 141]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 212  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 19:28:53.528478"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 19:28:53.531691"], ["updated_at", "2015-04-01 19:28:53.531691"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 19:28:53.533130"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 19:28:53.533130"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 213], ["product_id", 142]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 142]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 142]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 213  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 19:28:53.542364"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 142]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:28:53.560697"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 19:28:53.560697"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:28:53.562419"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 19:28:53.562419"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:28:53.563366"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 19:28:53.563366"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Load (0.4ms)[0m  SELECT  "customers".* FROM "customers"   ORDER BY "customers"."created_at" DESC LIMIT 15
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:28:53.566860"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 19:28:53.566860"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:28:53.568201"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 19:28:53.568201"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:28:53.569321"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 19:28:53.569321"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2015-04-01 19:28:53.570353"], ["updated_at", "2015-04-01 19:28:53.570353"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 19:28:53.571687"], ["updated_at", "2015-04-01 19:28:53.571687"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 214[0m  [["customer_id", 226], ["updated_at", "2015-04-01 19:28:53.574033"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1[0m  [["customer_id", 226]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 214]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 214]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 214]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 226]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:28:53.582271"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 19:28:53.582271"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:28:53.583323"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 19:28:53.583323"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:28:53.584247"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 19:28:53.584247"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))[0m
  [1m[35mCustomer Load (0.1ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:28:53.587963"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 19:28:53.587963"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:28:53.589351"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 19:28:53.589351"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:28:53.590380"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 19:28:53.590380"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Load (0.2ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))
  [1m[36mCustomer Load (0.2ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "deposit", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 19:28:53.593548"], ["delivery", "100.0"], ["deposit", "300.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 19:28:53.593548"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 215  [["balance_due", "9.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 19:28:53.594936"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 19:28:53.596756"], ["updated_at", "2015-04-01 19:28:53.596756"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 19:28:53.597864"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 19:28:53.597864"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 216], ["product_id", 143]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 216]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 143]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 216[0m  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 19:28:53.607769"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1  [["product_id", 143]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 143]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 216]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 216]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 19:28:53.613859"], ["delivery", "100.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 19:28:53.613859"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 217  [["balance_due", "309.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 19:28:53.615352"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "delivery", "store_location", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 19:28:53.617103"], ["delivery", "100.0"], ["store_location", "Oakland"], ["updated_at", "2015-04-01 19:28:53.617103"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 218  [["balance_due", "109.0"], ["delivery_with_tax", "109.0"], ["grand_total", "109.0"], ["updated_at", "2015-04-01 19:28:53.618212"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "delivery", "store_location", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 19:29:05.115149"], ["delivery", "100.0"], ["store_location", "Oakland"], ["updated_at", "2015-04-01 19:29:05.115149"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 219  [["balance_due", "109.0"], ["delivery_with_tax", "109.0"], ["grand_total", "109.0"], ["updated_at", "2015-04-01 19:29:05.121079"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 19:29:05.124424"], ["delivery", "100.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 19:29:05.124424"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 220  [["balance_due", "309.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 19:29:05.125979"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "deposit", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 19:29:05.128032"], ["delivery", "100.0"], ["deposit", "300.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 19:29:05.128032"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 221  [["balance_due", "9.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 19:29:05.129390"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 19:29:05.131170"], ["updated_at", "2015-04-01 19:29:05.131170"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 19:29:05.141031"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 19:29:05.141031"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 222], ["product_id", 144]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 222]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 144]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 222[0m  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 19:29:05.202744"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1  [["product_id", 144]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 144]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 222]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 222]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 19:29:05.216056"], ["updated_at", "2015-04-01 19:29:05.216056"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 19:29:05.217450"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 19:29:05.217450"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 223], ["product_id", 145]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 145]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 145]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 223  [["balance_due", "109.0"], ["grand_total", "109.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 19:29:05.228069"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 145]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 19:29:05.232442"], ["updated_at", "2015-04-01 19:29:05.232442"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 19:29:05.233576"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 19:29:05.233576"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 224], ["product_id", 146]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 146]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 146]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 224[0m  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 19:29:05.241223"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 146]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 19:29:05.245499"], ["updated_at", "2015-04-01 19:29:05.245499"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 19:29:05.246855"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 19:29:05.246855"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 225], ["product_id", 147]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 147]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 147]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 225  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 19:29:05.254261"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:29:05.263700"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 19:29:05.263700"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:29:05.265576"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 19:29:05.265576"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:29:05.266648"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 19:29:05.266648"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))[0m
  [1m[35mCustomer Load (0.2ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:29:05.270371"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 19:29:05.270371"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:29:05.271595"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 19:29:05.271595"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:29:05.272663"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 19:29:05.272663"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Load (0.2ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))
  [1m[36mCustomer Load (0.2ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:29:05.276227"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 19:29:05.276227"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:29:05.277460"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 19:29:05.277460"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:29:05.278472"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 19:29:05.278472"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT  "customers".* FROM "customers"   ORDER BY "customers"."created_at" DESC LIMIT 15[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:29:05.280977"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 19:29:05.280977"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:29:05.282035"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 19:29:05.282035"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:29:05.283031"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 19:29:05.283031"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-04-01 19:29:05.284090"], ["updated_at", "2015-04-01 19:29:05.284090"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 19:29:05.285724"], ["updated_at", "2015-04-01 19:29:05.285724"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 226  [["customer_id", 245], ["updated_at", "2015-04-01 19:29:05.288454"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1  [["customer_id", 245]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 226]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 226]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 226]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "customers" WHERE "customers"."id" = $1  [["id", 245]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 19:44:49.909113"], ["delivery_with_tax", "100.0"], ["updated_at", "2015-04-01 19:44:49.909113"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 19:44:49.913176"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 19:44:49.913176"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 227], ["product_id", 148]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 148]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 148]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 227  [["balance_due", "309.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 19:44:49.982593"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 148]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 19:44:49.988879"], ["updated_at", "2015-04-01 19:44:49.988879"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 19:44:49.990757"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 19:44:49.990757"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 228], ["product_id", 149]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 149]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 149]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 228[0m  [["balance_due", "109.0"], ["grand_total", "109.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 19:44:50.000067"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 149]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 19:44:50.003603"], ["updated_at", "2015-04-01 19:44:50.003603"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 19:44:50.004927"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 19:44:50.004927"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 229], ["product_id", 150]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 150]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 150]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 229  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 19:44:50.013651"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 150]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 19:44:50.017654"], ["updated_at", "2015-04-01 19:44:50.017654"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 19:44:50.019101"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 19:44:50.019101"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 230], ["product_id", 151]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 151]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 151]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 230[0m  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 19:44:50.028228"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 19:44:50.031240"], ["delivery", "100.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 19:44:50.031240"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 231[0m  [["balance_due", "309.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 19:44:50.032685"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "delivery", "store_location", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 19:44:50.035628"], ["delivery", "100.0"], ["store_location", "Oakland"], ["updated_at", "2015-04-01 19:44:50.035628"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 232[0m  [["balance_due", "109.0"], ["delivery_with_tax", "109.0"], ["grand_total", "109.0"], ["updated_at", "2015-04-01 19:44:50.037273"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 19:44:50.039226"], ["updated_at", "2015-04-01 19:44:50.039226"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 19:44:50.040571"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 19:44:50.040571"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 233], ["product_id", 152]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 233]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 152]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 233  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 19:44:50.049419"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 152]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "products" WHERE "products"."id" = $1  [["id", 152]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 233]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 233]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "deposit", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 19:44:50.054696"], ["delivery", "100.0"], ["deposit", "300.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 19:44:50.054696"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 234[0m  [["balance_due", "9.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 19:44:50.056257"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:44:50.066308"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 19:44:50.066308"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:44:50.067977"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 19:44:50.067977"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:44:50.069111"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 19:44:50.069111"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Load (0.3ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))
  [1m[36mCustomer Load (0.1ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:44:50.073070"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 19:44:50.073070"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:44:50.074667"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 19:44:50.074667"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:44:50.075734"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 19:44:50.075734"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.2ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))[0m
  [1m[35mCustomer Load (0.2ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:44:50.079908"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 19:44:50.079908"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:44:50.081749"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 19:44:50.081749"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:44:50.083054"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 19:44:50.083054"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2015-04-01 19:44:50.084279"], ["updated_at", "2015-04-01 19:44:50.084279"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 19:44:50.085924"], ["updated_at", "2015-04-01 19:44:50.085924"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 235[0m  [["customer_id", 255], ["updated_at", "2015-04-01 19:44:50.088610"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1[0m  [["customer_id", 255]]
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 235]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 235]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 235]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 255]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:44:50.099477"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 19:44:50.099477"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:44:50.101919"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 19:44:50.101919"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:44:50.103302"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 19:44:50.103302"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.4ms)[0m  [1mSELECT  "customers".* FROM "customers"   ORDER BY "customers"."created_at" DESC LIMIT 15[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 19:49:47.705009"], ["updated_at", "2015-04-01 19:49:47.705009"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 19:49:47.708855"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 19:49:47.708855"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 236], ["product_id", 153]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 153]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 153]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 236  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 19:49:47.771384"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 19:49:47.777492"], ["delivery_with_tax", "100.0"], ["updated_at", "2015-04-01 19:49:47.777492"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 19:49:47.779176"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 19:49:47.779176"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 237], ["product_id", 154]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 154]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 154]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 237  [["balance_due", "309.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 19:49:47.790675"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 154]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 19:49:47.794406"], ["updated_at", "2015-04-01 19:49:47.794406"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 19:49:47.795627"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 19:49:47.795627"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 238], ["product_id", 155]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 155]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 155]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 238[0m  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 19:49:47.805924"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 155]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 19:49:47.819899"], ["updated_at", "2015-04-01 19:49:47.819899"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 19:49:47.821446"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 19:49:47.821446"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 239], ["product_id", 156]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 156]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 156]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 239  [["balance_due", "109.0"], ["grand_total", "109.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 19:49:47.832418"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 156]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "deposit", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 19:49:47.836279"], ["delivery_with_tax", "100.0"], ["deposit", "100.0"], ["updated_at", "2015-04-01 19:49:47.836279"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 19:49:47.837712"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 19:49:47.837712"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 240], ["product_id", 157]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 157]]
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 157]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 240[0m  [["balance_due", "209.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 19:49:47.844669"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 157]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:49:47.854682"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 19:49:47.854682"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:49:47.856307"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 19:49:47.856307"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:49:47.857282"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 19:49:47.857282"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))[0m
  [1m[35mCustomer Load (0.1ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:49:47.861016"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 19:49:47.861016"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:49:47.862315"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 19:49:47.862315"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:49:47.863268"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 19:49:47.863268"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2015-04-01 19:49:47.864164"], ["updated_at", "2015-04-01 19:49:47.864164"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 19:49:47.865431"], ["updated_at", "2015-04-01 19:49:47.865431"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 241[0m  [["customer_id", 265], ["updated_at", "2015-04-01 19:49:47.868055"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1[0m  [["customer_id", 265]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 241]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 241]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 241]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 265]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:49:47.876265"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 19:49:47.876265"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:49:47.877289"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 19:49:47.877289"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:49:47.878259"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 19:49:47.878259"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.2ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))[0m
  [1m[35mCustomer Load (0.1ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:49:47.881515"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 19:49:47.881515"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:49:47.882625"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 19:49:47.882625"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:49:47.883607"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 19:49:47.883607"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Load (0.3ms)[0m  SELECT  "customers".* FROM "customers"   ORDER BY "customers"."created_at" DESC LIMIT 15
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 19:49:47.886462"], ["delivery", "100.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 19:49:47.886462"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 242[0m  [["balance_due", "309.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 19:49:47.887763"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 19:49:47.889552"], ["updated_at", "2015-04-01 19:49:47.889552"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 19:49:47.890644"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 19:49:47.890644"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 243], ["product_id", 158]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 243]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 158]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 243  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 19:49:47.900915"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 158]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "products" WHERE "products"."id" = $1  [["id", 158]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 243]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 243]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "delivery", "store_location", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 19:49:47.906316"], ["delivery", "100.0"], ["store_location", "Oakland"], ["updated_at", "2015-04-01 19:49:47.906316"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 244[0m  [["balance_due", "109.0"], ["delivery_with_tax", "109.0"], ["grand_total", "109.0"], ["updated_at", "2015-04-01 19:49:47.907608"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "deposit", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 19:49:47.909514"], ["delivery", "100.0"], ["deposit", "300.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 19:49:47.909514"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 245[0m  [["balance_due", "9.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 19:49:47.910725"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "delivery", "store_location", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 19:52:23.059324"], ["delivery", "100.0"], ["store_location", "Oakland"], ["updated_at", "2015-04-01 19:52:23.059324"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 246  [["balance_due", "109.0"], ["delivery_with_tax", "109.0"], ["grand_total", "109.0"], ["updated_at", "2015-04-01 19:52:23.065074"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 19:52:23.068381"], ["updated_at", "2015-04-01 19:52:23.068381"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 19:52:23.077015"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 19:52:23.077015"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 247], ["product_id", 159]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 247]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 159]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 247[0m  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 19:52:23.140331"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1  [["product_id", 159]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 159]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 247]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 247]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 19:52:23.145497"], ["delivery", "100.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 19:52:23.145497"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 248  [["balance_due", "309.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 19:52:23.146896"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "deposit", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 19:52:23.148661"], ["delivery", "100.0"], ["deposit", "300.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 19:52:23.148661"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 249  [["balance_due", "9.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 19:52:23.149999"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:52:23.159066"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 19:52:23.159066"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:52:23.160668"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 19:52:23.160668"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:52:23.161628"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 19:52:23.161628"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))[0m
  [1m[35mCustomer Load (0.1ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:52:23.165091"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 19:52:23.165091"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:52:23.166295"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 19:52:23.166295"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:52:23.167214"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 19:52:23.167214"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2015-04-01 19:52:23.168463"], ["updated_at", "2015-04-01 19:52:23.168463"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 19:52:23.170024"], ["updated_at", "2015-04-01 19:52:23.170024"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 250[0m  [["customer_id", 278], ["updated_at", "2015-04-01 19:52:23.172584"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1[0m  [["customer_id", 278]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 250]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 250]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 250]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 278]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:52:23.181564"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 19:52:23.181564"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:52:23.182747"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 19:52:23.182747"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:52:23.183800"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 19:52:23.183800"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.2ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))[0m
  [1m[35mCustomer Load (0.2ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:52:23.187546"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 19:52:23.187546"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:52:23.188656"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 19:52:23.188656"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:52:23.189565"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 19:52:23.189565"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Load (0.4ms)[0m  SELECT  "customers".* FROM "customers"   ORDER BY "customers"."created_at" DESC LIMIT 15
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 19:52:23.193012"], ["updated_at", "2015-04-01 19:52:23.193012"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 19:52:23.194336"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 19:52:23.194336"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 251], ["product_id", 160]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 160]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 160]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 251[0m  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 19:52:23.204125"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "deposit", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 19:52:23.206767"], ["delivery_with_tax", "100.0"], ["deposit", "100.0"], ["updated_at", "2015-04-01 19:52:23.206767"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 19:52:23.208333"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 19:52:23.208333"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 252], ["product_id", 161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 161]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 161]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 252[0m  [["balance_due", "209.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 19:52:23.216256"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 161]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "deposit", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 19:52:23.226087"], ["delivery_with_tax", "100.0"], ["deposit", "100.0"], ["updated_at", "2015-04-01 19:52:23.226087"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 19:52:23.227735"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 19:52:23.227735"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 253], ["product_id", 162]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 162]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 162]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 253  [["balance_due", "-9.0"], ["grand_total", "91.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 19:52:23.236468"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 19:52:23.240054"], ["delivery_with_tax", "100.0"], ["updated_at", "2015-04-01 19:52:23.240054"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 19:52:23.241273"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 19:52:23.241273"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 254], ["product_id", 163]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 163]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 163]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 254  [["balance_due", "309.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 19:52:23.248616"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 163]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 19:52:23.252332"], ["delivery_with_tax", "100.0"], ["updated_at", "2015-04-01 19:52:23.252332"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 19:52:23.253632"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 19:52:23.253632"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 255], ["product_id", 164]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 164]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 164]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 255[0m  [["balance_due", "91.0"], ["grand_total", "91.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 19:52:23.259733"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 19:52:23.261557"], ["updated_at", "2015-04-01 19:52:23.261557"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 19:52:23.262612"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 19:52:23.262612"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 256], ["product_id", 165]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 165]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 165]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 256[0m  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 19:52:23.269005"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 19:52:23.271114"], ["updated_at", "2015-04-01 19:52:23.271114"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 19:52:23.272418"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 19:52:23.272418"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 257], ["product_id", 166]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 166]]
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 166]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 257[0m  [["balance_due", "109.0"], ["grand_total", "109.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 19:52:23.278877"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 166]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 19:52:23.283412"], ["updated_at", "2015-04-01 19:52:23.283412"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 19:52:23.284694"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 19:52:23.284694"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 258], ["product_id", 167]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 167]]
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 167]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 258  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 19:52:23.291201"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 167]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "delivery", "store_location", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 19:53:05.888907"], ["delivery", "100.0"], ["store_location", "Oakland"], ["updated_at", "2015-04-01 19:53:05.888907"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 259  [["balance_due", "109.0"], ["delivery_with_tax", "109.0"], ["grand_total", "109.0"], ["updated_at", "2015-04-01 19:53:05.894699"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "deposit", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 19:53:05.897986"], ["delivery", "100.0"], ["deposit", "300.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 19:53:05.897986"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 260  [["balance_due", "9.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 19:53:05.899559"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 19:53:05.901574"], ["delivery", "100.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 19:53:05.901574"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 261  [["balance_due", "309.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 19:53:05.903025"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 19:53:05.904881"], ["updated_at", "2015-04-01 19:53:05.904881"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 19:53:05.914634"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 19:53:05.914634"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 262], ["product_id", 168]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 262]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 168]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 262[0m  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 19:53:05.971311"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1  [["product_id", 168]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 168]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 262]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 262]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 19:53:05.976763"], ["updated_at", "2015-04-01 19:53:05.976763"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 19:53:05.978021"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 19:53:05.978021"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 263], ["product_id", 169]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 169]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 169]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 263  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 19:53:05.986879"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 19:53:05.990165"], ["updated_at", "2015-04-01 19:53:05.990165"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 19:53:05.991431"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 19:53:05.991431"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 264], ["product_id", 170]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 170]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 170]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 264  [["balance_due", "109.0"], ["grand_total", "109.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 19:53:06.000062"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 170]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 19:53:06.003372"], ["delivery_with_tax", "100.0"], ["updated_at", "2015-04-01 19:53:06.003372"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 19:53:06.004633"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 19:53:06.004633"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 265], ["product_id", 171]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 171]]
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 171]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 265[0m  [["balance_due", "309.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 19:53:06.012744"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 171]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 19:53:06.017220"], ["delivery_with_tax", "100.0"], ["updated_at", "2015-04-01 19:53:06.017220"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 19:53:06.018371"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 19:53:06.018371"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 266], ["product_id", 172]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 172]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 172]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 266  [["balance_due", "91.0"], ["grand_total", "91.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 19:53:06.026806"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "deposit", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 19:53:06.029796"], ["delivery_with_tax", "100.0"], ["deposit", "100.0"], ["updated_at", "2015-04-01 19:53:06.029796"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 19:53:06.031523"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 19:53:06.031523"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 267], ["product_id", 173]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 173]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 173]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 267  [["balance_due", "-9.0"], ["grand_total", "91.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 19:53:06.039413"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "deposit", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 19:53:06.041646"], ["delivery_with_tax", "100.0"], ["deposit", "100.0"], ["updated_at", "2015-04-01 19:53:06.041646"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 19:53:06.042824"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 19:53:06.042824"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 268], ["product_id", 174]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 174]]
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 174]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 268  [["balance_due", "209.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 19:53:06.050125"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 174]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 19:53:06.059449"], ["updated_at", "2015-04-01 19:53:06.059449"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 19:53:06.060827"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 19:53:06.060827"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 269], ["product_id", 175]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 175]]
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 175]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 269[0m  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 19:53:06.067714"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 175]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 19:53:06.071237"], ["updated_at", "2015-04-01 19:53:06.071237"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 19:53:06.072324"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 19:53:06.072324"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 270], ["product_id", 176]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 176]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 176]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 270  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 19:53:06.079563"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:53:06.090299"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 19:53:06.090299"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:53:06.092139"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 19:53:06.092139"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:53:06.093219"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 19:53:06.093219"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.4ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))[0m
  [1m[35mCustomer Load (0.1ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:53:06.096752"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 19:53:06.096752"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:53:06.097848"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 19:53:06.097848"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:53:06.098980"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 19:53:06.098980"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Load (0.3ms)[0m  SELECT  "customers".* FROM "customers"   ORDER BY "customers"."created_at" DESC LIMIT 15
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:53:06.101498"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 19:53:06.101498"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:53:06.102444"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 19:53:06.102444"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:53:06.103329"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 19:53:06.103329"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Load (0.1ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))
  [1m[36mCustomer Load (0.1ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:53:06.107535"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 19:53:06.107535"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:53:06.109755"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 19:53:06.109755"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:53:06.111196"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 19:53:06.111196"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-04-01 19:53:06.112466"], ["updated_at", "2015-04-01 19:53:06.112466"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 19:53:06.114121"], ["updated_at", "2015-04-01 19:53:06.114121"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 271  [["customer_id", 297], ["updated_at", "2015-04-01 19:53:06.116798"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1  [["customer_id", 297]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 271]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 271]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 271]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "customers" WHERE "customers"."id" = $1  [["id", 297]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:56:58.502657"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 19:56:58.502657"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:56:58.506236"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 19:56:58.506236"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:56:58.507481"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 19:56:58.507481"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-04-01 19:56:58.508452"], ["updated_at", "2015-04-01 19:56:58.508452"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 19:56:58.523805"], ["updated_at", "2015-04-01 19:56:58.523805"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 272  [["customer_id", 301], ["updated_at", "2015-04-01 19:56:58.536008"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1  [["customer_id", 301]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 272]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 272]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 272]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "customers" WHERE "customers"."id" = $1  [["id", 301]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:56:58.593406"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 19:56:58.593406"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:56:58.594751"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 19:56:58.594751"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:56:58.595800"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 19:56:58.595800"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Load (0.3ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))
  [1m[36mCustomer Load (0.2ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:56:58.599231"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 19:56:58.599231"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:56:58.600316"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 19:56:58.600316"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:56:58.601211"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 19:56:58.601211"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.5ms)[0m  [1mSELECT  "customers".* FROM "customers"   ORDER BY "customers"."created_at" DESC LIMIT 15[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:56:58.604779"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 19:56:58.604779"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 19:56:58.606223"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 19:56:58.606223"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 19:56:58.607577"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 19:56:58.607577"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.2ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))[0m
  [1m[35mCustomer Load (0.2ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 19:56:58.612107"], ["updated_at", "2015-04-01 19:56:58.612107"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 19:56:58.619985"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 19:56:58.619985"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 273], ["product_id", 177]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 273]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 177]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 273  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 19:56:58.636986"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 177]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "products" WHERE "products"."id" = $1  [["id", 177]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 273]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 273]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "delivery", "store_location", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 19:56:58.642573"], ["delivery", "100.0"], ["store_location", "Oakland"], ["updated_at", "2015-04-01 19:56:58.642573"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 274[0m  [["balance_due", "109.0"], ["delivery_with_tax", "109.0"], ["grand_total", "109.0"], ["updated_at", "2015-04-01 19:56:58.643782"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "deposit", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 19:56:58.645516"], ["delivery", "100.0"], ["deposit", "300.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 19:56:58.645516"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 275[0m  [["balance_due", "9.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 19:56:58.646697"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 19:56:58.648438"], ["delivery", "100.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 19:56:58.648438"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 276[0m  [["balance_due", "309.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 19:56:58.649688"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 19:56:58.651503"], ["updated_at", "2015-04-01 19:56:58.651503"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 19:56:58.652616"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 19:56:58.652616"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 277], ["product_id", 178]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 178]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 178]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 277[0m  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 19:56:58.662400"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 19:56:58.664961"], ["delivery_with_tax", "100.0"], ["updated_at", "2015-04-01 19:56:58.664961"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 19:56:58.666348"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 19:56:58.666348"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 278], ["product_id", 179]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 179]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 179]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 278[0m  [["balance_due", "309.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 19:56:58.673556"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 179]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 19:56:58.678698"], ["updated_at", "2015-04-01 19:56:58.678698"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 19:56:58.680139"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 19:56:58.680139"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 279], ["product_id", 180]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 180]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 180]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 279  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 19:56:58.687046"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 19:56:58.695336"], ["updated_at", "2015-04-01 19:56:58.695336"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 19:56:58.696559"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 19:56:58.696559"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 280], ["product_id", 181]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 181]]
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 181]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 280  [["balance_due", "109.0"], ["grand_total", "109.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 19:56:58.703463"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 181]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 19:56:58.708406"], ["delivery_with_tax", "100.0"], ["updated_at", "2015-04-01 19:56:58.708406"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 19:56:58.709779"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 19:56:58.709779"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 281], ["product_id", 182]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 182]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 281  [["balance_due", "309.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 19:56:58.715712"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 182]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 182]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 281[0m  [["balance_due", "200.0"], ["grand_total", "200.0"], ["items_total", "0.0"], ["tax", "0.0"], ["total_with_tax", "0.0"], ["updated_at", "2015-04-01 19:56:58.719037"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 19:56:58.721083"], ["updated_at", "2015-04-01 19:56:58.721083"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 19:56:58.722606"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 19:56:58.722606"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 282], ["product_id", 183]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 183]]
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 183]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 282[0m  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 19:56:58.729731"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 183]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "deposit", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 19:56:58.733432"], ["delivery_with_tax", "100.0"], ["deposit", "100.0"], ["updated_at", "2015-04-01 19:56:58.733432"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 19:56:58.735014"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 19:56:58.735014"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 283], ["product_id", 184]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 184]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 283[0m  [["balance_due", "209.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 19:56:58.741554"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 184]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 184]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 283  [["balance_due", "100.0"], ["grand_total", "200.0"], ["items_total", "0.0"], ["tax", "0.0"], ["total_with_tax", "0.0"], ["updated_at", "2015-04-01 19:56:58.746000"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "deposit", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 19:56:58.749064"], ["delivery_with_tax", "100.0"], ["deposit", "100.0"], ["updated_at", "2015-04-01 19:56:58.749064"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 19:56:58.750337"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 19:56:58.750337"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 284], ["product_id", 185]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 185]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 185]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 284  [["balance_due", "209.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 19:56:58.759849"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 185]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "delivery", "store_location", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:08:58.736936"], ["delivery", "100.0"], ["store_location", "Oakland"], ["updated_at", "2015-04-01 20:08:58.736936"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 285  [["balance_due", "109.0"], ["delivery_with_tax", "109.0"], ["grand_total", "109.0"], ["updated_at", "2015-04-01 20:08:58.744372"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:08:58.748840"], ["delivery", "100.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 20:08:58.748840"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 286  [["balance_due", "309.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 20:08:58.750719"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "deposit", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:08:58.753466"], ["delivery", "100.0"], ["deposit", "300.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 20:08:58.753466"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 287  [["balance_due", "9.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 20:08:58.755300"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:08:58.759261"], ["updated_at", "2015-04-01 20:08:58.759261"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 20:08:58.768488"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:08:58.768488"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 288], ["product_id", 186]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 288]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 186]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 288[0m  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 20:08:58.843657"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1  [["product_id", 186]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 186]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 288]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 288]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:08:58.868243"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 20:08:58.868243"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:08:58.870011"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 20:08:58.870011"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:08:58.870946"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 20:08:58.870946"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))[0m
  [1m[35mCustomer Load (0.2ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:08:58.874621"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 20:08:58.874621"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:08:58.875923"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 20:08:58.875923"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:08:58.877026"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 20:08:58.877026"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Load (0.2ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))
  [1m[36mCustomer Load (0.1ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:08:58.881380"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 20:08:58.881380"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:08:58.883182"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 20:08:58.883182"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:08:58.884323"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 20:08:58.884323"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.4ms)[0m  [1mSELECT  "customers".* FROM "customers"   ORDER BY "customers"."created_at" DESC LIMIT 15[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:08:58.887363"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 20:08:58.887363"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:08:58.888462"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 20:08:58.888462"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:08:58.889579"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 20:08:58.889579"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-04-01 20:08:58.890721"], ["updated_at", "2015-04-01 20:08:58.890721"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:08:58.892189"], ["updated_at", "2015-04-01 20:08:58.892189"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 289  [["customer_id", 323], ["updated_at", "2015-04-01 20:08:58.894357"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1  [["customer_id", 323]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 289]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 289]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 289]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "customers" WHERE "customers"."id" = $1  [["id", 323]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "delivery", "store_location", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:09:16.717797"], ["delivery", "100.0"], ["store_location", "Oakland"], ["updated_at", "2015-04-01 20:09:16.717797"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 290  [["balance_due", "109.0"], ["delivery_with_tax", "109.0"], ["grand_total", "109.0"], ["updated_at", "2015-04-01 20:09:16.723811"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "deposit", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:09:16.727546"], ["delivery", "100.0"], ["deposit", "300.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 20:09:16.727546"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 291  [["balance_due", "9.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 20:09:16.729042"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:09:16.731033"], ["delivery", "100.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 20:09:16.731033"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 292  [["balance_due", "309.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 20:09:16.732378"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:09:16.734118"], ["updated_at", "2015-04-01 20:09:16.734118"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 20:09:16.743243"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:09:16.743243"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 293], ["product_id", 187]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 293]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 187]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 293[0m  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 20:09:16.808230"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1  [["product_id", 187]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 187]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 293]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 293]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:09:16.834936"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 20:09:16.834936"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:09:16.837191"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 20:09:16.837191"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:09:16.838430"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 20:09:16.838430"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))[0m
  [1m[35mCustomer Load (0.2ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:09:16.842530"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 20:09:16.842530"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:09:16.844233"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 20:09:16.844233"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:09:16.846335"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 20:09:16.846335"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Load (0.5ms)[0m  SELECT  "customers".* FROM "customers"   ORDER BY "customers"."created_at" DESC LIMIT 15
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:09:16.850379"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 20:09:16.850379"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:09:16.851626"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 20:09:16.851626"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:09:16.852860"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 20:09:16.852860"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Load (0.2ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))
  [1m[36mCustomer Load (0.1ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:09:16.857027"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 20:09:16.857027"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:09:16.858418"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 20:09:16.858418"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:09:16.859590"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 20:09:16.859590"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-04-01 20:09:16.860701"], ["updated_at", "2015-04-01 20:09:16.860701"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:09:16.861963"], ["updated_at", "2015-04-01 20:09:16.861963"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 294  [["customer_id", 336], ["updated_at", "2015-04-01 20:09:16.864424"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1  [["customer_id", 336]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 294]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 294]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 294]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "customers" WHERE "customers"."id" = $1  [["id", 336]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:10:07.424462"], ["updated_at", "2015-04-01 20:10:07.424462"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 20:10:07.436053"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:07.436053"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 295], ["product_id", 188]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 295]]
  [1m[35mOrder Load (0.4ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 188]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 295[0m  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 20:10:07.502042"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1  [["product_id", 188]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 188]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 295]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 295]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "delivery", "store_location", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:10:07.508667"], ["delivery", "100.0"], ["store_location", "Oakland"], ["updated_at", "2015-04-01 20:10:07.508667"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 296  [["balance_due", "109.0"], ["delivery_with_tax", "109.0"], ["grand_total", "109.0"], ["updated_at", "2015-04-01 20:10:07.510125"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "deposit", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:10:07.512027"], ["delivery", "100.0"], ["deposit", "300.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 20:10:07.512027"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 297  [["balance_due", "9.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 20:10:07.513198"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:10:07.514905"], ["delivery", "100.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 20:10:07.514905"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 298  [["balance_due", "309.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 20:10:07.516370"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:10:07.525494"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 20:10:07.525494"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:10:07.527201"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 20:10:07.527201"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:10:07.528213"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 20:10:07.528213"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-04-01 20:10:07.529104"], ["updated_at", "2015-04-01 20:10:07.529104"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:10:07.530219"], ["updated_at", "2015-04-01 20:10:07.530219"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 299  [["customer_id", 340], ["updated_at", "2015-04-01 20:10:07.532443"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1  [["customer_id", 340]]
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 299]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 299]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 299]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "customers" WHERE "customers"."id" = $1  [["id", 340]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:10:07.540686"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 20:10:07.540686"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:10:07.541896"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 20:10:07.541896"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:10:07.543109"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 20:10:07.543109"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Load (0.3ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))
  [1m[36mCustomer Load (0.2ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:10:07.547248"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 20:10:07.547248"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:10:07.548613"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 20:10:07.548613"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:10:07.549730"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 20:10:07.549730"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.4ms)[0m  [1mSELECT  "customers".* FROM "customers"   ORDER BY "customers"."created_at" DESC LIMIT 15[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:10:07.552938"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 20:10:07.552938"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:10:07.553999"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 20:10:07.553999"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:10:07.555046"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 20:10:07.555046"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.2ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))[0m
  [1m[35mCustomer Load (0.1ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:10:07.558890"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:07.558890"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:10:07.560430"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:07.560430"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:10:07.561484"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:07.561484"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:10:07.563378"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:07.563378"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:10:07.564434"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:07.564434"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:10:07.565608"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:07.565608"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:10:07.567029"], ["updated_at", "2015-04-01 20:10:07.567029"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 20:10:07.568227"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 20:10:07.568227"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 300], ["product_id", 195]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 195]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 195]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 300[0m  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 20:10:07.577179"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 195]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:10:07.580914"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:07.580914"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:10:07.582169"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:07.582169"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:10:07.583503"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:07.583503"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(company) LIKE LOWER('%R%'))  ORDER BY "products"."created_at" DESC[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(model_type) LIKE LOWER('%R%'))
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(description) LIKE LOWER('%R%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:10:07.587932"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:07.587932"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:10:07.589138"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:07.589138"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:10:07.590479"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:07.590479"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:10:07.591908"], ["updated_at", "2015-04-01 20:10:07.591908"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 20:10:07.593121"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 20:10:07.593121"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 301], ["product_id", 202]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 202]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 202]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 301[0m  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 20:10:07.600830"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:10:07.602851"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:07.602851"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:10:07.603946"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:07.603946"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:10:07.604955"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:07.604955"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(company) LIKE LOWER('%J%'))  ORDER BY "products"."created_at" DESC
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(model_type) LIKE LOWER('%J%'))[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(description) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:10:07.608115"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:07.608115"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:10:07.609396"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:07.609396"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:10:07.610440"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:07.610440"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "deposit", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:10:07.611621"], ["delivery_with_tax", "100.0"], ["deposit", "100.0"], ["updated_at", "2015-04-01 20:10:07.611621"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 20:10:07.612864"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:07.612864"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 302], ["product_id", 209]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 209]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 302[0m  [["balance_due", "209.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 20:10:07.620628"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 209]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 209]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 302  [["balance_due", "100.0"], ["grand_total", "200.0"], ["items_total", "0.0"], ["tax", "0.0"], ["total_with_tax", "0.0"], ["updated_at", "2015-04-01 20:10:07.624348"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:10:07.626192"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:07.626192"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:10:07.627260"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:07.627260"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:10:07.628262"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:07.628262"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:10:07.635031"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:07.635031"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:10:07.636328"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:07.636328"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:10:07.637689"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:07.637689"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(company) LIKE LOWER('%J%'))  ORDER BY "products"."created_at" DESC
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(model_type) LIKE LOWER('%J%'))[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(description) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:10:07.641372"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:07.641372"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:10:07.642624"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:07.642624"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:10:07.643812"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:07.643812"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:10:07.645103"], ["updated_at", "2015-04-01 20:10:07.645103"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 20:10:07.646274"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:07.646274"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 303], ["product_id", 219]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 219]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 219]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 303  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 20:10:07.653625"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:10:07.655627"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:07.655627"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:10:07.656706"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:07.656706"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:10:07.657987"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:07.657987"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:10:07.659260"], ["updated_at", "2015-04-01 20:10:07.659260"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 20:10:07.660331"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:07.660331"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 304], ["product_id", 223]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 223]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 223]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 304[0m  [["balance_due", "109.0"], ["grand_total", "109.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 20:10:07.669360"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 223]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:10:07.673764"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:07.673764"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:10:07.675202"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:07.675202"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:10:07.676453"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:07.676453"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "deposit", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:10:07.677688"], ["delivery_with_tax", "100.0"], ["deposit", "100.0"], ["updated_at", "2015-04-01 20:10:07.677688"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 20:10:07.678998"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:07.678998"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 305], ["product_id", 227]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 227]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 227]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 305[0m  [["balance_due", "209.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 20:10:07.688053"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 227]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:10:07.691643"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:07.691643"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:10:07.693189"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:07.693189"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:10:07.694639"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:07.694639"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:10:07.696840"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:07.696840"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:10:07.698172"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:07.698172"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:10:07.699554"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:07.699554"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:10:07.701670"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:07.701670"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:10:07.703165"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:07.703165"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:10:07.704403"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:07.704403"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:10:07.705569"], ["delivery_with_tax", "100.0"], ["updated_at", "2015-04-01 20:10:07.705569"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 20:10:07.706790"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:07.706790"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 306], ["product_id", 237]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 237]]
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 237]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 306[0m  [["balance_due", "309.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 20:10:07.713591"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 237]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:10:07.716723"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:07.716723"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:10:07.718003"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:07.718003"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:10:07.719116"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:07.719116"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:10:07.720344"], ["delivery_with_tax", "100.0"], ["updated_at", "2015-04-01 20:10:07.720344"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 20:10:07.721485"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:07.721485"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 307], ["product_id", 241]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 241]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 307  [["balance_due", "309.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 20:10:07.727443"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 241]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 241]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 307[0m  [["balance_due", "200.0"], ["grand_total", "200.0"], ["items_total", "0.0"], ["tax", "0.0"], ["total_with_tax", "0.0"], ["updated_at", "2015-04-01 20:10:07.730607"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:10:07.732659"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:07.732659"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:10:07.733918"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:07.733918"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:10:07.735170"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:07.735170"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:10:07.737759"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:07.737759"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:10:07.739058"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:07.739058"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:10:07.740359"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:07.740359"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(company) LIKE LOWER('%R%'))  ORDER BY "products"."created_at" DESC[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(model_type) LIKE LOWER('%R%'))
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(description) LIKE LOWER('%R%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:10:26.272579"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:26.272579"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:10:26.277503"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:26.277503"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:10:26.279097"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:26.279097"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:10:26.295145"], ["delivery_with_tax", "100.0"], ["updated_at", "2015-04-01 20:10:26.295145"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 20:10:26.297814"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:26.297814"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 308], ["product_id", 251]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 251]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 308  [["balance_due", "309.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 20:10:26.327514"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 251]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 251]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 308[0m  [["balance_due", "200.0"], ["grand_total", "200.0"], ["items_total", "0.0"], ["tax", "0.0"], ["total_with_tax", "0.0"], ["updated_at", "2015-04-01 20:10:26.368973"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:10:26.372368"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:26.372368"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:10:26.373897"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:26.373897"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:10:26.375209"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:26.375209"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:10:26.377674"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:26.377674"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:10:26.379104"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:26.379104"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:10:26.380575"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:26.380575"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:10:26.382011"], ["updated_at", "2015-04-01 20:10:26.382011"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 20:10:26.383500"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:26.383500"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 309], ["product_id", 258]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 258]]
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 258]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 309[0m  [["balance_due", "109.0"], ["grand_total", "109.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 20:10:26.392007"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 258]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:10:26.396318"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:26.396318"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:10:26.397863"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:26.397863"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:10:26.399107"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:26.399107"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:10:26.400383"], ["updated_at", "2015-04-01 20:10:26.400383"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 20:10:26.401650"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 20:10:26.401650"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 310], ["product_id", 262]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 262]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 262]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 310[0m  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 20:10:26.412669"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:10:26.415137"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:26.415137"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:10:26.416484"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:26.416484"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:10:26.417673"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:26.417673"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:10:26.418972"], ["updated_at", "2015-04-01 20:10:26.418972"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 20:10:26.420164"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:26.420164"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 311], ["product_id", 266]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 266]]
  [1m[35mOrder Load (0.4ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 266]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 311  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 20:10:26.429733"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:10:26.432132"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:26.432132"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:10:26.433568"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:26.433568"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:10:26.434950"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:26.434950"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:10:26.437123"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:26.437123"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:10:26.438210"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:26.438210"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:10:26.439218"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:26.439218"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.5ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(company) LIKE LOWER('%R%'))  ORDER BY "products"."created_at" DESC
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(model_type) LIKE LOWER('%R%'))[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(description) LIKE LOWER('%R%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:10:26.444351"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:26.444351"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:10:26.445594"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:26.445594"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:10:26.446705"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:26.446705"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(company) LIKE LOWER('%J%'))  ORDER BY "products"."created_at" DESC
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(model_type) LIKE LOWER('%J%'))[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(description) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:10:26.449664"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:26.449664"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:10:26.450727"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:26.450727"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:10:26.451811"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:26.451811"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "deposit", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:10:26.453134"], ["delivery_with_tax", "100.0"], ["deposit", "100.0"], ["updated_at", "2015-04-01 20:10:26.453134"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 20:10:26.454442"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:26.454442"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 312], ["product_id", 279]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 279]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 312[0m  [["balance_due", "209.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 20:10:26.462549"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 279]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 279]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 312  [["balance_due", "100.0"], ["grand_total", "200.0"], ["items_total", "0.0"], ["tax", "0.0"], ["total_with_tax", "0.0"], ["updated_at", "2015-04-01 20:10:26.465943"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:10:26.467865"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:26.467865"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:10:26.469238"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:26.469238"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:10:26.470438"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:26.470438"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:10:26.471892"], ["updated_at", "2015-04-01 20:10:26.471892"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 20:10:26.473212"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 20:10:26.473212"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 313], ["product_id", 283]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 283]]
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 283]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 313[0m  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 20:10:26.480544"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 283]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:10:26.483625"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:26.483625"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:10:26.484717"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:26.484717"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:10:26.486003"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:26.486003"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(company) LIKE LOWER('%R%'))  ORDER BY "products"."created_at" DESC[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(model_type) LIKE LOWER('%R%'))
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(description) LIKE LOWER('%R%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:10:26.490562"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:26.490562"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:10:26.491891"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:26.491891"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:10:26.492909"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:26.492909"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:10:26.494630"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:26.494630"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:10:26.495638"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:26.495638"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:10:26.496635"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:26.496635"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(company) LIKE LOWER('%J%'))  ORDER BY "products"."created_at" DESC
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(model_type) LIKE LOWER('%J%'))[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(description) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:10:26.500406"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:26.500406"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:10:26.501841"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:26.501841"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:10:26.503401"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:26.503401"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:10:26.511655"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:26.511655"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:10:26.513276"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:26.513276"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:10:26.514756"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:26.514756"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "deposit", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:10:26.516310"], ["delivery_with_tax", "100.0"], ["deposit", "100.0"], ["updated_at", "2015-04-01 20:10:26.516310"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 20:10:26.517904"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:26.517904"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 314], ["product_id", 299]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 299]]
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 299]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 314[0m  [["balance_due", "209.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 20:10:26.526024"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 299]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:10:26.529143"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:26.529143"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:10:26.530324"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:26.530324"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:10:26.531312"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:26.531312"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:10:26.532466"], ["delivery_with_tax", "100.0"], ["updated_at", "2015-04-01 20:10:26.532466"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 20:10:26.533491"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:26.533491"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 315], ["product_id", 303]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 303]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 303]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 315[0m  [["balance_due", "309.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 20:10:26.541446"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 303]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:10:26.555007"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 20:10:26.555007"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:10:26.557171"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 20:10:26.557171"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:10:26.558216"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 20:10:26.558216"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT  "customers".* FROM "customers"   ORDER BY "customers"."created_at" DESC LIMIT 15[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:10:26.560843"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 20:10:26.560843"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:10:26.561934"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 20:10:26.561934"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:10:26.562985"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 20:10:26.562985"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-04-01 20:10:26.563874"], ["updated_at", "2015-04-01 20:10:26.563874"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:10:26.564975"], ["updated_at", "2015-04-01 20:10:26.564975"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 316  [["customer_id", 356], ["updated_at", "2015-04-01 20:10:26.567029"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1  [["customer_id", 356]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 316]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 316]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 316]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "customers" WHERE "customers"."id" = $1  [["id", 356]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:10:26.576060"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 20:10:26.576060"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:10:26.577238"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 20:10:26.577238"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:10:26.578177"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 20:10:26.578177"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Load (0.2ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))
  [1m[36mCustomer Load (0.1ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:10:26.580925"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 20:10:26.580925"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:10:26.581835"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 20:10:26.581835"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:10:26.582773"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 20:10:26.582773"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.1ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))[0m
  [1m[35mCustomer Load (0.1ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "deposit", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:10:26.585574"], ["delivery", "100.0"], ["deposit", "300.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 20:10:26.585574"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 317[0m  [["balance_due", "9.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 20:10:26.587019"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:10:26.588726"], ["updated_at", "2015-04-01 20:10:26.588726"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 20:10:26.589857"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:26.589857"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 318], ["product_id", 304]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 318]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 304]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 318  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 20:10:26.601718"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 304]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "products" WHERE "products"."id" = $1  [["id", 304]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 318]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 318]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:10:26.607932"], ["delivery", "100.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 20:10:26.607932"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 319[0m  [["balance_due", "309.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 20:10:26.609445"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "delivery", "store_location", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:10:26.611484"], ["delivery", "100.0"], ["store_location", "Oakland"], ["updated_at", "2015-04-01 20:10:26.611484"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 320[0m  [["balance_due", "109.0"], ["delivery_with_tax", "109.0"], ["grand_total", "109.0"], ["updated_at", "2015-04-01 20:10:26.612869"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "deposit", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:10:43.209883"], ["delivery", "100.0"], ["deposit", "300.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 20:10:43.209883"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 321  [["balance_due", "9.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 20:10:43.215694"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "delivery", "store_location", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:10:43.219137"], ["delivery", "100.0"], ["store_location", "Oakland"], ["updated_at", "2015-04-01 20:10:43.219137"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 322  [["balance_due", "109.0"], ["delivery_with_tax", "109.0"], ["grand_total", "109.0"], ["updated_at", "2015-04-01 20:10:43.220628"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:10:43.222528"], ["updated_at", "2015-04-01 20:10:43.222528"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 20:10:43.231700"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:43.231700"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 323], ["product_id", 305]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 323]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 305]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 323[0m  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 20:10:43.290214"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1  [["product_id", 305]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 305]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 323]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 323]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:10:43.295375"], ["delivery", "100.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 20:10:43.295375"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 324  [["balance_due", "309.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 20:10:43.296720"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:10:43.306342"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 20:10:43.306342"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:10:43.308789"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 20:10:43.308789"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:10:43.310125"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 20:10:43.310125"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.4ms)[0m  [1mSELECT  "customers".* FROM "customers"   ORDER BY "customers"."created_at" DESC LIMIT 15[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:10:43.314652"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 20:10:43.314652"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:10:43.316075"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 20:10:43.316075"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:10:43.317100"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 20:10:43.317100"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))[0m
  [1m[35mCustomer Load (0.2ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:10:43.320229"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 20:10:43.320229"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:10:43.321290"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 20:10:43.321290"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:10:43.322173"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 20:10:43.322173"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2015-04-01 20:10:43.323032"], ["updated_at", "2015-04-01 20:10:43.323032"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:10:43.324164"], ["updated_at", "2015-04-01 20:10:43.324164"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 325[0m  [["customer_id", 372], ["updated_at", "2015-04-01 20:10:43.326348"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1[0m  [["customer_id", 372]]
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 325]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 325]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 325]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 372]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:10:43.335225"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 20:10:43.335225"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:10:43.336437"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 20:10:43.336437"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:10:43.337527"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 20:10:43.337527"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.2ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))[0m
  [1m[35mCustomer Load (0.1ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:10:43.341617"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:43.341617"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:10:43.343119"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:43.343119"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:10:43.344197"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:43.344197"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:10:43.345350"], ["updated_at", "2015-04-01 20:10:43.345350"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 20:10:43.346413"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:43.346413"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 326], ["product_id", 309]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 309]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 309]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 326  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 20:10:43.357267"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:10:43.360537"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:43.360537"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:10:43.362185"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:43.362185"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:10:43.363563"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:43.363563"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(company) LIKE LOWER('%R%'))  ORDER BY "products"."created_at" DESC[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(model_type) LIKE LOWER('%R%'))
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(description) LIKE LOWER('%R%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:10:43.368223"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:43.368223"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:10:43.369291"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:43.369291"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:10:43.370601"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:43.370601"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(company) LIKE LOWER('%J%'))  ORDER BY "products"."created_at" DESC[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(model_type) LIKE LOWER('%J%'))
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(description) LIKE LOWER('%J%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:10:43.373701"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:43.373701"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:10:43.374842"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:43.374842"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:10:43.375895"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:43.375895"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:10:43.377609"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:43.377609"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:10:43.378743"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:43.378743"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:10:43.379748"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:43.379748"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "deposit", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:10:43.380919"], ["delivery_with_tax", "100.0"], ["deposit", "100.0"], ["updated_at", "2015-04-01 20:10:43.380919"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 20:10:43.382150"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:43.382150"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 327], ["product_id", 322]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 322]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 327[0m  [["balance_due", "209.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 20:10:43.388752"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 322]]
  [1m[35mOrder Load (0.4ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 322]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 327  [["balance_due", "100.0"], ["grand_total", "200.0"], ["items_total", "0.0"], ["tax", "0.0"], ["total_with_tax", "0.0"], ["updated_at", "2015-04-01 20:10:43.393798"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:10:43.396295"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:43.396295"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:10:43.397877"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:43.397877"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:10:43.399083"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:43.399083"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:10:43.401172"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:43.401172"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:10:43.402266"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:43.402266"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:10:43.403389"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:43.403389"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:10:43.404705"], ["delivery_with_tax", "100.0"], ["updated_at", "2015-04-01 20:10:43.404705"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 20:10:43.405850"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:43.405850"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 328], ["product_id", 329]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 329]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 329]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 328  [["balance_due", "309.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 20:10:43.412866"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 329]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:10:43.416610"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:43.416610"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:10:43.417768"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:43.417768"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:10:43.418884"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:43.418884"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "deposit", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:10:43.420091"], ["delivery_with_tax", "100.0"], ["deposit", "100.0"], ["updated_at", "2015-04-01 20:10:43.420091"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 20:10:43.421506"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:43.421506"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 329], ["product_id", 333]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 333]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 333]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 329  [["balance_due", "209.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 20:10:43.429701"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 333]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:10:43.432981"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:43.432981"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:10:43.434259"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:43.434259"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:10:43.435460"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:43.435460"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:10:43.444174"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:43.444174"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:10:43.445706"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:43.445706"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:10:43.446892"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:43.446892"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:10:43.448339"], ["updated_at", "2015-04-01 20:10:43.448339"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 20:10:43.449814"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 20:10:43.449814"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 330], ["product_id", 340]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 340]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 340]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 330[0m  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 20:10:43.458390"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 340]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:10:43.462041"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:43.462041"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:10:43.463298"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:43.463298"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:10:43.464350"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:43.464350"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(company) LIKE LOWER('%R%'))  ORDER BY "products"."created_at" DESC[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(model_type) LIKE LOWER('%R%'))
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(description) LIKE LOWER('%R%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:10:43.467675"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:43.467675"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:10:43.468752"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:43.468752"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:10:43.469814"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:43.469814"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:10:43.471085"], ["delivery_with_tax", "100.0"], ["updated_at", "2015-04-01 20:10:43.471085"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 20:10:43.472317"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:43.472317"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 331], ["product_id", 347]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 347]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 331  [["balance_due", "309.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 20:10:43.479665"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 347]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 347]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 331[0m  [["balance_due", "200.0"], ["grand_total", "200.0"], ["items_total", "0.0"], ["tax", "0.0"], ["total_with_tax", "0.0"], ["updated_at", "2015-04-01 20:10:43.483437"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:10:43.485310"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:43.485310"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:10:43.486595"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:43.486595"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:10:43.487675"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:43.487675"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:10:43.489070"], ["updated_at", "2015-04-01 20:10:43.489070"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 20:10:43.490431"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:43.490431"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 332], ["product_id", 351]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 351]]
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 351]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 332  [["balance_due", "109.0"], ["grand_total", "109.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 20:10:43.497605"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 351]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:10:43.500756"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:43.500756"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:10:43.501943"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:43.501943"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:10:43.503316"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:43.503316"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(company) LIKE LOWER('%J%'))  ORDER BY "products"."created_at" DESC
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(model_type) LIKE LOWER('%J%'))[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(description) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:10:43.506853"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:43.506853"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:10:43.508075"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:43.508075"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:10:43.509110"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:43.509110"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:10:43.510233"], ["updated_at", "2015-04-01 20:10:43.510233"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 20:10:43.511259"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 20:10:43.511259"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 333], ["product_id", 358]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 358]]
  [1m[35mOrder Load (0.5ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 358]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 333  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 20:10:43.518075"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:10:43.520618"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:10:43.520618"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:10:43.522325"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:10:43.522325"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:10:43.524206"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:10:43.524206"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "delivery", "store_location", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:12:53.166182"], ["delivery", "100.0"], ["store_location", "Oakland"], ["updated_at", "2015-04-01 20:12:53.166182"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 334  [["balance_due", "109.0"], ["delivery_with_tax", "109.0"], ["grand_total", "109.0"], ["updated_at", "2015-04-01 20:12:53.172552"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "deposit", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:12:53.176060"], ["delivery", "100.0"], ["deposit", "300.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 20:12:53.176060"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 335  [["balance_due", "9.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 20:12:53.177682"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:12:53.179663"], ["delivery", "100.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 20:12:53.179663"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 336  [["balance_due", "309.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 20:12:53.180958"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:12:53.182744"], ["updated_at", "2015-04-01 20:12:53.182744"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 20:12:53.192315"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:12:53.192315"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 337], ["product_id", 362]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 337]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 362]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 337[0m  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 20:12:53.253163"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1  [["product_id", 362]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 362]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 337]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 337]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:12:53.259442"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:12:53.259442"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:12:53.260876"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:12:53.260876"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:12:53.261898"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:12:53.261898"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:12:53.270407"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:12:53.270407"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:12:53.272001"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:12:53.272001"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:12:53.273459"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:12:53.273459"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:12:53.275458"], ["delivery_with_tax", "100.0"], ["updated_at", "2015-04-01 20:12:53.275458"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 20:12:53.277382"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:12:53.277382"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 338], ["product_id", 369]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 369]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 338[0m  [["balance_due", "309.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 20:12:53.285938"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 369]]
  [1m[35mOrder Load (0.4ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 369]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 338  [["balance_due", "200.0"], ["grand_total", "200.0"], ["items_total", "0.0"], ["tax", "0.0"], ["total_with_tax", "0.0"], ["updated_at", "2015-04-01 20:12:53.290362"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:12:53.292876"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:12:53.292876"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:12:53.294297"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:12:53.294297"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:12:53.295443"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:12:53.295443"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:12:53.297598"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:12:53.297598"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:12:53.298913"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:12:53.298913"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:12:53.300289"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:12:53.300289"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:12:53.302350"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:12:53.302350"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:12:53.303433"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:12:53.303433"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:12:53.304507"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:12:53.304507"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(company) LIKE LOWER('%J%'))  ORDER BY "products"."created_at" DESC[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(model_type) LIKE LOWER('%J%'))
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(description) LIKE LOWER('%J%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:12:53.309687"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:12:53.309687"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:12:53.311408"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:12:53.311408"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:12:53.312548"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:12:53.312548"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:12:53.314736"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:12:53.314736"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:12:53.316009"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:12:53.316009"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:12:53.317060"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:12:53.317060"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:12:53.318338"], ["delivery_with_tax", "100.0"], ["updated_at", "2015-04-01 20:12:53.318338"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 20:12:53.319546"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:12:53.319546"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 339], ["product_id", 385]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 385]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 385]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 339  [["balance_due", "309.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 20:12:53.327542"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 385]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:12:53.330506"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:12:53.330506"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:12:53.331622"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:12:53.331622"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:12:53.332767"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:12:53.332767"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:12:53.333907"], ["updated_at", "2015-04-01 20:12:53.333907"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 20:12:53.334978"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 20:12:53.334978"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 340], ["product_id", 389]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 389]]
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 389]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 340  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 20:12:53.341731"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 389]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:12:53.346109"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:12:53.346109"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:12:53.347460"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:12:53.347460"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:12:53.348668"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:12:53.348668"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "deposit", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:12:53.349854"], ["delivery_with_tax", "100.0"], ["deposit", "100.0"], ["updated_at", "2015-04-01 20:12:53.349854"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 20:12:53.351096"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:12:53.351096"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 341], ["product_id", 393]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 393]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 341[0m  [["balance_due", "209.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 20:12:53.356201"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 393]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 393]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 341  [["balance_due", "100.0"], ["grand_total", "200.0"], ["items_total", "0.0"], ["tax", "0.0"], ["total_with_tax", "0.0"], ["updated_at", "2015-04-01 20:12:53.359595"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:12:53.362016"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:12:53.362016"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:12:53.363237"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:12:53.363237"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:12:53.364282"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:12:53.364282"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:12:53.365346"], ["updated_at", "2015-04-01 20:12:53.365346"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 20:12:53.366329"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:12:53.366329"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 342], ["product_id", 397]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 397]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 397]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 342[0m  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 20:12:53.373741"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:12:53.375908"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:12:53.375908"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:12:53.377140"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:12:53.377140"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:12:53.378240"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:12:53.378240"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:12:53.379310"], ["updated_at", "2015-04-01 20:12:53.379310"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 20:12:53.380305"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 20:12:53.380305"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 343], ["product_id", 401]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 401]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 401]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 343  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 20:12:53.387500"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:12:53.389924"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:12:53.389924"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:12:53.391178"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:12:53.391178"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:12:53.392184"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:12:53.392184"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(company) LIKE LOWER('%R%'))  ORDER BY "products"."created_at" DESC[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(model_type) LIKE LOWER('%R%'))
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(description) LIKE LOWER('%R%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:12:53.395618"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:12:53.395618"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:12:53.396975"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:12:53.396975"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:12:53.398159"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:12:53.398159"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "deposit", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:12:53.399462"], ["delivery_with_tax", "100.0"], ["deposit", "100.0"], ["updated_at", "2015-04-01 20:12:53.399462"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 20:12:53.400653"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:12:53.400653"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 344], ["product_id", 408]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 408]]
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 408]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 344[0m  [["balance_due", "209.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 20:12:53.408661"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 408]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:12:53.412240"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:12:53.412240"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:12:53.413509"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:12:53.413509"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:12:53.414653"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:12:53.414653"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:12:53.416755"], ["updated_at", "2015-04-01 20:12:53.416755"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 20:12:53.418226"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:12:53.418226"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 345], ["product_id", 412]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 412]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 412]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 345[0m  [["balance_due", "109.0"], ["grand_total", "109.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 20:12:53.428570"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 412]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:12:53.432658"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:12:53.432658"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:12:53.433932"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:12:53.433932"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:12:53.435112"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:12:53.435112"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(company) LIKE LOWER('%Red%'))  ORDER BY "products"."created_at" DESC[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(model_type) LIKE LOWER('%Red%'))
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(description) LIKE LOWER('%Red%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:12:53.440013"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:12:53.440013"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:12:53.441527"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:12:53.441527"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:12:53.442671"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:12:53.442671"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(company) LIKE LOWER('%J%'))  ORDER BY "products"."created_at" DESC[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(model_type) LIKE LOWER('%J%'))
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(description) LIKE LOWER('%J%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:12:53.454061"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 20:12:53.454061"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:12:53.456091"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 20:12:53.456091"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:12:53.457395"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 20:12:53.457395"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.2ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))[0m
  [1m[35mCustomer Load (0.2ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:12:53.460285"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 20:12:53.460285"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:12:53.461430"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 20:12:53.461430"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:12:53.462405"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 20:12:53.462405"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Load (0.2ms)[0m  SELECT  "customers".* FROM "customers"   ORDER BY "customers"."created_at" DESC LIMIT 15
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:12:53.464554"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 20:12:53.464554"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:12:53.465664"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 20:12:53.465664"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:12:53.466800"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 20:12:53.466800"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Load (0.3ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))
  [1m[36mCustomer Load (0.1ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:12:53.469777"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 20:12:53.469777"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:12:53.470806"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 20:12:53.470806"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:12:53.471756"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 20:12:53.471756"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-04-01 20:12:53.472736"], ["updated_at", "2015-04-01 20:12:53.472736"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:12:53.474173"], ["updated_at", "2015-04-01 20:12:53.474173"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 346  [["customer_id", 388], ["updated_at", "2015-04-01 20:12:53.476724"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1  [["customer_id", 388]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 346]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 346]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 346]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "customers" WHERE "customers"."id" = $1  [["id", 388]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:13:28.316313"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:13:28.316313"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:13:28.320015"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:13:28.320015"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:13:28.321371"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:13:28.321371"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(company) LIKE LOWER('%J%'))  ORDER BY "products"."created_at" DESC[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(model_type) LIKE LOWER('%J%'))
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(description) LIKE LOWER('%J%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:13:28.326308"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:13:28.326308"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:13:28.328069"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:13:28.328069"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:13:28.329384"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:13:28.329384"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(company) LIKE LOWER('%J%'))  ORDER BY "products"."created_at" DESC[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(model_type) LIKE LOWER('%J%'))
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(description) LIKE LOWER('%J%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:13:28.333867"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:13:28.333867"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:13:28.335232"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:13:28.335232"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:13:28.336296"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:13:28.336296"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:13:28.356624"], ["updated_at", "2015-04-01 20:13:28.356624"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 20:13:28.358718"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 20:13:28.358718"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 347], ["product_id", 428]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 428]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 428]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 347[0m  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 20:13:28.434499"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:13:28.437959"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:13:28.437959"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:13:28.439271"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:13:28.439271"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:13:28.440510"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:13:28.440510"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:13:28.441937"], ["delivery_with_tax", "100.0"], ["updated_at", "2015-04-01 20:13:28.441937"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 20:13:28.443969"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:13:28.443969"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 348], ["product_id", 432]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 432]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 348[0m  [["balance_due", "309.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 20:13:28.452689"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 432]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 432]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 348  [["balance_due", "200.0"], ["grand_total", "200.0"], ["items_total", "0.0"], ["tax", "0.0"], ["total_with_tax", "0.0"], ["updated_at", "2015-04-01 20:13:28.458211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:13:28.460768"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:13:28.460768"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:13:28.462296"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:13:28.462296"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:13:28.464283"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:13:28.464283"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:13:28.467053"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:13:28.467053"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:13:28.468606"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:13:28.468606"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:13:28.470049"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:13:28.470049"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(company) LIKE LOWER('%R%'))  ORDER BY "products"."created_at" DESC
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(model_type) LIKE LOWER('%R%'))[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(description) LIKE LOWER('%R%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:13:28.474584"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:13:28.474584"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:13:28.476026"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:13:28.476026"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:13:28.477581"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:13:28.477581"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:13:28.479751"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:13:28.479751"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:13:28.480832"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:13:28.480832"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:13:28.481929"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:13:28.481929"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(company) LIKE LOWER('%Red%'))  ORDER BY "products"."created_at" DESC[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(model_type) LIKE LOWER('%Red%'))
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(description) LIKE LOWER('%Red%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:13:28.485158"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:13:28.485158"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:13:28.486569"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:13:28.486569"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:13:28.487813"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:13:28.487813"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:13:28.489854"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:13:28.489854"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:13:28.490957"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:13:28.490957"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:13:28.491989"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:13:28.491989"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:13:28.493648"], ["updated_at", "2015-04-01 20:13:28.493648"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 20:13:28.495075"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 20:13:28.495075"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 349], ["product_id", 451]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 451]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 451]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 349  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 20:13:28.502225"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 451]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:13:28.505987"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:13:28.505987"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:13:28.507369"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:13:28.507369"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:13:28.508556"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:13:28.508556"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:13:28.509750"], ["updated_at", "2015-04-01 20:13:28.509750"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 20:13:28.511028"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:13:28.511028"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 350], ["product_id", 455]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 455]]
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 455]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 350  [["balance_due", "109.0"], ["grand_total", "109.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 20:13:28.520244"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 455]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:13:28.523513"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:13:28.523513"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:13:28.524807"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:13:28.524807"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:13:28.526177"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:13:28.526177"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:13:28.527587"], ["delivery_with_tax", "100.0"], ["updated_at", "2015-04-01 20:13:28.527587"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 20:13:28.529107"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:13:28.529107"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 351], ["product_id", 459]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 459]]
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 459]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 351  [["balance_due", "309.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 20:13:28.536364"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 459]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:13:28.539132"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:13:28.539132"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:13:28.540190"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:13:28.540190"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:13:28.541259"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:13:28.541259"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "deposit", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:13:28.542370"], ["delivery_with_tax", "100.0"], ["deposit", "100.0"], ["updated_at", "2015-04-01 20:13:28.542370"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 20:13:28.543789"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:13:28.543789"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 352], ["product_id", 463]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 463]]
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 463]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 352  [["balance_due", "209.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 20:13:28.551558"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 463]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:13:28.554654"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:13:28.554654"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:13:28.555887"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:13:28.555887"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:13:28.556960"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:13:28.556960"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:13:28.564011"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:13:28.564011"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:13:28.565627"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:13:28.565627"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:13:28.566997"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:13:28.566997"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:13:28.568443"], ["updated_at", "2015-04-01 20:13:28.568443"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 20:13:28.569896"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:13:28.569896"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 353], ["product_id", 470]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 470]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 470]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 353[0m  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 20:13:28.577553"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:13:28.579546"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:13:28.579546"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:13:28.580693"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:13:28.580693"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:13:28.582025"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:13:28.582025"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "deposit", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:13:28.583150"], ["delivery_with_tax", "100.0"], ["deposit", "100.0"], ["updated_at", "2015-04-01 20:13:28.583150"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 20:13:28.584264"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:13:28.584264"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 354], ["product_id", 474]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 474]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 354[0m  [["balance_due", "209.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 20:13:28.589557"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 474]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 474]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 354  [["balance_due", "100.0"], ["grand_total", "200.0"], ["items_total", "0.0"], ["tax", "0.0"], ["total_with_tax", "0.0"], ["updated_at", "2015-04-01 20:13:28.592996"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:13:28.604410"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 20:13:28.604410"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:13:28.606533"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 20:13:28.606533"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:13:28.607596"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 20:13:28.607596"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.2ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))[0m
  [1m[35mCustomer Load (0.1ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:13:28.610819"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 20:13:28.610819"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:13:28.611995"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 20:13:28.611995"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:13:28.612937"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 20:13:28.612937"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2015-04-01 20:13:28.613995"], ["updated_at", "2015-04-01 20:13:28.613995"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:13:28.615512"], ["updated_at", "2015-04-01 20:13:28.615512"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 355[0m  [["customer_id", 395], ["updated_at", "2015-04-01 20:13:28.618197"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1[0m  [["customer_id", 395]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 355]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 355]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 355]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 395]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:13:28.626597"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 20:13:28.626597"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:13:28.627905"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 20:13:28.627905"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:13:28.629019"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 20:13:28.629019"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.2ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))[0m
  [1m[35mCustomer Load (0.1ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:13:28.631834"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 20:13:28.631834"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:13:28.632868"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 20:13:28.632868"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:13:28.633947"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 20:13:28.633947"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Load (0.2ms)[0m  SELECT  "customers".* FROM "customers"   ORDER BY "customers"."created_at" DESC LIMIT 15
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:13:28.636439"], ["delivery", "100.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 20:13:28.636439"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 356[0m  [["balance_due", "309.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 20:13:28.637671"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:13:28.639521"], ["updated_at", "2015-04-01 20:13:28.639521"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 20:13:28.641196"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:13:28.641196"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 357], ["product_id", 475]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 357]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 475]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 357  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 20:13:28.650503"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 475]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "products" WHERE "products"."id" = $1  [["id", 475]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 357]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 357]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "delivery", "store_location", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:13:28.657826"], ["delivery", "100.0"], ["store_location", "Oakland"], ["updated_at", "2015-04-01 20:13:28.657826"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 358[0m  [["balance_due", "109.0"], ["delivery_with_tax", "109.0"], ["grand_total", "109.0"], ["updated_at", "2015-04-01 20:13:28.659466"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "deposit", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:13:28.661692"], ["delivery", "100.0"], ["deposit", "300.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 20:13:28.661692"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 359[0m  [["balance_due", "9.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 20:13:28.663104"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:53:19.912660"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:53:19.912660"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:53:19.917541"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:53:19.917541"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:53:19.918963"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:53:19.918963"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:53:19.933656"], ["updated_at", "2015-04-01 20:53:19.933656"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 20:53:19.936508"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:53:19.936508"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 360], ["product_id", 479]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.6ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 479]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 479]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 360[0m  [["balance_due", "109.0"], ["grand_total", "109.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 20:53:20.004403"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 479]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:53:20.010327"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:53:20.010327"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:53:20.011784"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:53:20.011784"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:53:20.012972"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:53:20.012972"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.8ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(company) LIKE LOWER('%R%'))  ORDER BY "products"."created_at" DESC[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(model_type) LIKE LOWER('%R%'))
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(description) LIKE LOWER('%R%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:53:20.019105"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:53:20.019105"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:53:20.020532"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:53:20.020532"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:53:20.021602"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:53:20.021602"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(company) LIKE LOWER('%Red%'))  ORDER BY "products"."created_at" DESC[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(model_type) LIKE LOWER('%Red%'))
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(description) LIKE LOWER('%Red%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:53:20.026295"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:53:20.026295"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:53:20.027742"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:53:20.027742"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:53:20.028870"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:53:20.028870"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:53:20.030682"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:53:20.030682"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:53:20.031932"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:53:20.031932"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:53:20.033260"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:53:20.033260"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "deposit", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:53:20.034601"], ["delivery_with_tax", "100.0"], ["deposit", "100.0"], ["updated_at", "2015-04-01 20:53:20.034601"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 20:53:20.035903"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:53:20.035903"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 361], ["product_id", 492]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 492]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 492]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 361  [["balance_due", "209.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 20:53:20.046320"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 492]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:53:20.049976"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:53:20.049976"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:53:20.051245"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:53:20.051245"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:53:20.052341"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:53:20.052341"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:53:20.053478"], ["delivery_with_tax", "100.0"], ["updated_at", "2015-04-01 20:53:20.053478"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 20:53:20.054638"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:53:20.054638"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 362], ["product_id", 496]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 496]]
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 496]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 362  [["balance_due", "309.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 20:53:20.061285"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 496]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:53:20.064125"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:53:20.064125"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:53:20.065241"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:53:20.065241"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:53:20.066250"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:53:20.066250"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:53:20.068133"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:53:20.068133"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:53:20.069334"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:53:20.069334"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:53:20.070566"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:53:20.070566"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:53:20.072254"], ["updated_at", "2015-04-01 20:53:20.072254"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 20:53:20.073505"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:53:20.073505"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 363], ["product_id", 503]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 503]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 503]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 363[0m  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 20:53:20.082250"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:53:20.084266"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:53:20.084266"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:53:20.085457"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:53:20.085457"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:53:20.086471"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:53:20.086471"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:53:20.094954"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:53:20.094954"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:53:20.096415"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:53:20.096415"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:53:20.097697"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:53:20.097697"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:53:20.099737"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:53:20.099737"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:53:20.100873"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:53:20.100873"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:53:20.102098"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:53:20.102098"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(company) LIKE LOWER('%J%'))  ORDER BY "products"."created_at" DESC
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(model_type) LIKE LOWER('%J%'))[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(description) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:53:20.105869"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:53:20.105869"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:53:20.107262"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:53:20.107262"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:53:20.108447"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:53:20.108447"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:53:20.109744"], ["delivery_with_tax", "100.0"], ["updated_at", "2015-04-01 20:53:20.109744"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 20:53:20.110850"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:53:20.110850"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 364], ["product_id", 516]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 516]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 364[0m  [["balance_due", "309.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 20:53:20.117743"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 516]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 516]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 364  [["balance_due", "200.0"], ["grand_total", "200.0"], ["items_total", "0.0"], ["tax", "0.0"], ["total_with_tax", "0.0"], ["updated_at", "2015-04-01 20:53:20.122287"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:53:20.124555"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:53:20.124555"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:53:20.126057"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:53:20.126057"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:53:20.127233"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:53:20.127233"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(company) LIKE LOWER('%J%'))  ORDER BY "products"."created_at" DESC[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(model_type) LIKE LOWER('%J%'))
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(description) LIKE LOWER('%J%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:53:20.131110"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:53:20.131110"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:53:20.132344"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:53:20.132344"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:53:20.133598"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:53:20.133598"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "deposit", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:53:20.134982"], ["delivery_with_tax", "100.0"], ["deposit", "100.0"], ["updated_at", "2015-04-01 20:53:20.134982"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 20:53:20.136162"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:53:20.136162"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 365], ["product_id", 523]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 523]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 365  [["balance_due", "209.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 20:53:20.145813"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 523]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 523]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 365[0m  [["balance_due", "100.0"], ["grand_total", "200.0"], ["items_total", "0.0"], ["tax", "0.0"], ["total_with_tax", "0.0"], ["updated_at", "2015-04-01 20:53:20.150376"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:53:20.152482"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:53:20.152482"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:53:20.153751"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:53:20.153751"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:53:20.154882"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:53:20.154882"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:53:20.156097"], ["updated_at", "2015-04-01 20:53:20.156097"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 20:53:20.157608"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 20:53:20.157608"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 366], ["product_id", 527]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 527]]
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 527]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 366  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 20:53:20.166663"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 527]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:53:20.170266"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:53:20.170266"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:53:20.171534"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:53:20.171534"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:53:20.172614"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:53:20.172614"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:53:20.173757"], ["updated_at", "2015-04-01 20:53:20.173757"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 20:53:20.174855"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 20:53:20.174855"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 367], ["product_id", 531]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 531]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 531]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 367  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 20:53:20.183589"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:53:20.186315"], ["follow_up_date", "2015-04-01"], ["updated_at", "2015-04-01 20:53:20.186315"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:53:20.187842"], ["follow_up_date", "2015-04-02"], ["updated_at", "2015-04-01 20:53:20.187842"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:53:20.189373"], ["follow_up_date", "2015-03-31"], ["updated_at", "2015-04-01 20:53:20.189373"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:53:20.190995"], ["updated_at", "2015-04-01 20:53:20.190995"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 20:53:20.192675"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:53:20.192675"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 371], ["product_id", 532]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 371]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 532]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 371  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 20:53:20.202332"]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 532]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "products" WHERE "products"."id" = $1  [["id", 532]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 371]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 371]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:53:20.209634"], ["follow_up_date", "2015-04-01"], ["updated_at", "2015-04-01 20:53:20.209634"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:53:20.211087"], ["follow_up_date", "2015-04-02"], ["updated_at", "2015-04-01 20:53:20.211087"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:53:20.212333"], ["follow_up_date", "2015-03-31"], ["updated_at", "2015-04-01 20:53:20.212333"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "delivery", "store_location", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:53:20.213491"], ["delivery", "100.0"], ["store_location", "Oakland"], ["updated_at", "2015-04-01 20:53:20.213491"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 375  [["balance_due", "109.0"], ["delivery_with_tax", "109.0"], ["grand_total", "109.0"], ["updated_at", "2015-04-01 20:53:20.214758"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:53:20.216655"], ["follow_up_date", "2015-04-01"], ["updated_at", "2015-04-01 20:53:20.216655"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:53:20.217895"], ["follow_up_date", "2015-04-02"], ["updated_at", "2015-04-01 20:53:20.217895"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:53:20.218985"], ["follow_up_date", "2015-03-31"], ["updated_at", "2015-04-01 20:53:20.218985"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT "orders".* FROM "orders"  WHERE "orders"."follow_up_date" = '2015-04-01'  ORDER BY "orders"."updated_at" ASC[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:53:20.226376"], ["follow_up_date", "2015-04-01"], ["updated_at", "2015-04-01 20:53:20.226376"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:53:20.227734"], ["follow_up_date", "2015-04-02"], ["updated_at", "2015-04-01 20:53:20.227734"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:53:20.228815"], ["follow_up_date", "2015-03-31"], ["updated_at", "2015-04-01 20:53:20.228815"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:53:20.229860"], ["delivery", "100.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 20:53:20.229860"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 382[0m  [["balance_due", "309.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 20:53:20.231070"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:53:20.232907"], ["follow_up_date", "2015-04-01"], ["updated_at", "2015-04-01 20:53:20.232907"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:53:20.233908"], ["follow_up_date", "2015-04-02"], ["updated_at", "2015-04-01 20:53:20.233908"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:53:20.235073"], ["follow_up_date", "2015-03-31"], ["updated_at", "2015-04-01 20:53:20.235073"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:53:20.236678"], ["follow_up_date", "2015-04-01"], ["updated_at", "2015-04-01 20:53:20.236678"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:53:20.237712"], ["follow_up_date", "2015-04-02"], ["updated_at", "2015-04-01 20:53:20.237712"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:53:20.238691"], ["follow_up_date", "2015-03-31"], ["updated_at", "2015-04-01 20:53:20.238691"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders"  WHERE "orders"."follow_up_date" = '2015-04-01'  ORDER BY "orders"."updated_at" ASC[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:53:20.241861"], ["follow_up_date", "2015-04-01"], ["updated_at", "2015-04-01 20:53:20.241861"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:53:20.243195"], ["follow_up_date", "2015-04-02"], ["updated_at", "2015-04-01 20:53:20.243195"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:53:20.244826"], ["follow_up_date", "2015-03-31"], ["updated_at", "2015-04-01 20:53:20.244826"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "deposit", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:53:20.246307"], ["delivery", "100.0"], ["deposit", "300.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 20:53:20.246307"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 392[0m  [["balance_due", "9.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 20:53:20.247802"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:53:20.249922"], ["follow_up_date", "2015-04-01"], ["updated_at", "2015-04-01 20:53:20.249922"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:53:20.251179"], ["follow_up_date", "2015-04-02"], ["updated_at", "2015-04-01 20:53:20.251179"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:53:20.252281"], ["follow_up_date", "2015-03-31"], ["updated_at", "2015-04-01 20:53:20.252281"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:53:20.262816"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 20:53:20.262816"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:53:20.264690"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 20:53:20.264690"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:53:20.265725"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 20:53:20.265725"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.2ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))[0m
  [1m[35mCustomer Load (0.1ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:53:20.268842"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 20:53:20.268842"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:53:20.311779"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 20:53:20.311779"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:53:20.313081"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 20:53:20.313081"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Load (0.2ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))
  [1m[36mCustomer Load (0.1ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:53:20.316438"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 20:53:20.316438"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:53:20.317849"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 20:53:20.317849"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:53:20.318937"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 20:53:20.318937"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.2ms)[0m  [1mSELECT  "customers".* FROM "customers"   ORDER BY "customers"."created_at" DESC LIMIT 15[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:53:20.321094"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 20:53:20.321094"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:53:20.322223"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 20:53:20.322223"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:53:20.323213"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 20:53:20.323213"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-04-01 20:53:20.324104"], ["updated_at", "2015-04-01 20:53:20.324104"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:53:20.325293"], ["updated_at", "2015-04-01 20:53:20.325293"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 396  [["customer_id", 414], ["updated_at", "2015-04-01 20:53:20.327424"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1  [["customer_id", 414]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 396]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 396]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 396]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "customers" WHERE "customers"."id" = $1  [["id", 414]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:55:31.162514"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:55:31.162514"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:55:31.166455"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:55:31.166455"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:55:31.167906"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:55:31.167906"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "deposit", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:55:31.190287"], ["delivery_with_tax", "100.0"], ["deposit", "100.0"], ["updated_at", "2015-04-01 20:55:31.190287"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 20:55:31.192619"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:55:31.192619"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 397], ["product_id", 536]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 536]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 536]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 397[0m  [["balance_due", "209.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 20:55:31.257734"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 536]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:55:31.261890"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:55:31.261890"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:55:31.263325"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:55:31.263325"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:55:31.264477"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:55:31.264477"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:55:31.271560"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:55:31.271560"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:55:31.272744"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:55:31.272744"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:55:31.273969"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:55:31.273969"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:55:31.275503"], ["delivery_with_tax", "100.0"], ["updated_at", "2015-04-01 20:55:31.275503"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 20:55:31.276961"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:55:31.276961"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 398], ["product_id", 543]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 543]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 398[0m  [["balance_due", "309.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 20:55:31.285190"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 543]]
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 543]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 398  [["balance_due", "200.0"], ["grand_total", "200.0"], ["items_total", "0.0"], ["tax", "0.0"], ["total_with_tax", "0.0"], ["updated_at", "2015-04-01 20:55:31.289339"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:55:31.291321"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:55:31.291321"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:55:31.292463"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:55:31.292463"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:55:31.293578"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:55:31.293578"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(company) LIKE LOWER('%R%'))  ORDER BY "products"."created_at" DESC[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(model_type) LIKE LOWER('%R%'))
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(description) LIKE LOWER('%R%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:55:31.299390"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:55:31.299390"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:55:31.301025"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:55:31.301025"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:55:31.302226"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:55:31.302226"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:55:31.303515"], ["updated_at", "2015-04-01 20:55:31.303515"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 20:55:31.304640"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 20:55:31.304640"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 399], ["product_id", 550]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 550]]
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 550]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 399[0m  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 20:55:31.312441"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 550]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:55:31.315402"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:55:31.315402"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:55:31.316683"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:55:31.316683"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:55:31.317863"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:55:31.317863"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:55:31.319783"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:55:31.319783"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:55:31.320865"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:55:31.320865"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:55:31.321865"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:55:31.321865"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:55:31.323114"], ["updated_at", "2015-04-01 20:55:31.323114"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 20:55:31.324795"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 20:55:31.324795"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 400], ["product_id", 557]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 557]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 557]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 400  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 20:55:31.334716"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:55:31.337031"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:55:31.337031"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:55:31.338273"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:55:31.338273"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:55:31.339406"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:55:31.339406"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(company) LIKE LOWER('%J%'))  ORDER BY "products"."created_at" DESC[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(model_type) LIKE LOWER('%J%'))
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(description) LIKE LOWER('%J%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:55:31.344105"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:55:31.344105"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:55:31.345818"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:55:31.345818"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:55:31.347082"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:55:31.347082"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:55:31.349168"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:55:31.349168"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:55:31.350538"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:55:31.350538"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:55:31.352003"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:55:31.352003"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:55:31.353507"], ["updated_at", "2015-04-01 20:55:31.353507"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 20:55:31.354832"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:55:31.354832"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 401], ["product_id", 567]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 567]]
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 567]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 401  [["balance_due", "109.0"], ["grand_total", "109.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 20:55:31.364725"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 567]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:55:31.368127"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:55:31.368127"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:55:31.369314"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:55:31.369314"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:55:31.370365"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:55:31.370365"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "deposit", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:55:31.371519"], ["delivery_with_tax", "100.0"], ["deposit", "100.0"], ["updated_at", "2015-04-01 20:55:31.371519"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 20:55:31.372602"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:55:31.372602"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 402], ["product_id", 571]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 571]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 402[0m  [["balance_due", "209.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 20:55:31.381495"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 571]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 571]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 402  [["balance_due", "100.0"], ["grand_total", "200.0"], ["items_total", "0.0"], ["tax", "0.0"], ["total_with_tax", "0.0"], ["updated_at", "2015-04-01 20:55:31.385819"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:55:31.387951"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:55:31.387951"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:55:31.389220"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:55:31.389220"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:55:31.390303"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:55:31.390303"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(company) LIKE LOWER('%J%'))  ORDER BY "products"."created_at" DESC[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(model_type) LIKE LOWER('%J%'))
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(description) LIKE LOWER('%J%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:55:31.393911"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:55:31.393911"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:55:31.395271"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:55:31.395271"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:55:31.396403"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:55:31.396403"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:55:31.398335"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:55:31.398335"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:55:31.399646"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:55:31.399646"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:55:31.400679"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:55:31.400679"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:55:31.401810"], ["delivery_with_tax", "100.0"], ["updated_at", "2015-04-01 20:55:31.401810"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 20:55:31.403332"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:55:31.403332"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 403], ["product_id", 581]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 581]]
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 581]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 403  [["balance_due", "309.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 20:55:31.411704"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 581]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:55:31.415829"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:55:31.415829"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:55:31.417952"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:55:31.417952"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:55:31.419521"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:55:31.419521"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(company) LIKE LOWER('%Red%'))  ORDER BY "products"."created_at" DESC
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(model_type) LIKE LOWER('%Red%'))[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(description) LIKE LOWER('%Red%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:55:31.423177"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:55:31.423177"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:55:31.424693"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:55:31.424693"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:55:31.426302"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:55:31.426302"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:55:31.427868"], ["updated_at", "2015-04-01 20:55:31.427868"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 20:55:31.429192"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:55:31.429192"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 404], ["product_id", 588]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 588]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 588]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 404  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 20:55:31.438278"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:55:31.451026"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 20:55:31.451026"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:55:31.452751"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 20:55:31.452751"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:55:31.453862"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 20:55:31.453862"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-04-01 20:55:31.454927"], ["updated_at", "2015-04-01 20:55:31.454927"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:55:31.456182"], ["updated_at", "2015-04-01 20:55:31.456182"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 405  [["customer_id", 418], ["updated_at", "2015-04-01 20:55:31.458424"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1  [["customer_id", 418]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 405]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 405]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 405]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "customers" WHERE "customers"."id" = $1  [["id", 418]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:55:31.468716"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 20:55:31.468716"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:55:31.470169"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 20:55:31.470169"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:55:31.471312"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 20:55:31.471312"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Load (0.2ms)[0m  SELECT  "customers".* FROM "customers"   ORDER BY "customers"."created_at" DESC LIMIT 15
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:55:31.474352"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 20:55:31.474352"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:55:31.475715"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 20:55:31.475715"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:55:31.476994"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 20:55:31.476994"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Load (0.2ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))
  [1m[36mCustomer Load (0.2ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:55:31.480011"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 20:55:31.480011"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:55:31.481113"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 20:55:31.481113"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:55:31.482092"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 20:55:31.482092"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.1ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))[0m
  [1m[35mCustomer Load (0.2ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:55:31.485350"], ["follow_up_date", "2015-04-01"], ["updated_at", "2015-04-01 20:55:31.485350"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:55:31.486678"], ["follow_up_date", "2015-04-02"], ["updated_at", "2015-04-01 20:55:31.486678"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:55:31.487775"], ["follow_up_date", "2015-03-31"], ["updated_at", "2015-04-01 20:55:31.487775"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:55:31.488845"], ["delivery", "100.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 20:55:31.488845"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 409  [["balance_due", "309.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 20:55:31.489983"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:55:31.491792"], ["follow_up_date", "2015-04-01"], ["updated_at", "2015-04-01 20:55:31.491792"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:55:31.493035"], ["follow_up_date", "2015-04-02"], ["updated_at", "2015-04-01 20:55:31.493035"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:55:31.494374"], ["follow_up_date", "2015-03-31"], ["updated_at", "2015-04-01 20:55:31.494374"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "deposit", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:55:31.496004"], ["delivery", "100.0"], ["deposit", "300.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 20:55:31.496004"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 413[0m  [["balance_due", "9.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 20:55:31.497514"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:55:31.499316"], ["follow_up_date", "2015-04-01"], ["updated_at", "2015-04-01 20:55:31.499316"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:55:31.500416"], ["follow_up_date", "2015-04-02"], ["updated_at", "2015-04-01 20:55:31.500416"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:55:31.501419"], ["follow_up_date", "2015-03-31"], ["updated_at", "2015-04-01 20:55:31.501419"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:55:31.502376"], ["updated_at", "2015-04-01 20:55:31.502376"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 20:55:31.503590"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:55:31.503590"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 417], ["product_id", 589]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 417]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 589]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 417[0m  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 20:55:31.512262"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1  [["product_id", 589]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 589]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1  [["order_id", 417]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = $1[0m  [["id", 417]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:55:31.517702"], ["follow_up_date", "2015-04-01"], ["updated_at", "2015-04-01 20:55:31.517702"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:55:31.518853"], ["follow_up_date", "2015-04-02"], ["updated_at", "2015-04-01 20:55:31.518853"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:55:31.519806"], ["follow_up_date", "2015-03-31"], ["updated_at", "2015-04-01 20:55:31.519806"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT "orders".* FROM "orders"  WHERE "orders"."follow_up_date" = '2015-04-02'  ORDER BY "orders"."updated_at" ASC[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:55:31.561087"], ["follow_up_date", "2015-04-01"], ["updated_at", "2015-04-01 20:55:31.561087"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:55:31.562619"], ["follow_up_date", "2015-04-02"], ["updated_at", "2015-04-01 20:55:31.562619"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:55:31.563754"], ["follow_up_date", "2015-03-31"], ["updated_at", "2015-04-01 20:55:31.563754"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders"  WHERE "orders"."follow_up_date" = '2015-04-01'  ORDER BY "orders"."updated_at" ASC[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:55:31.566554"], ["follow_up_date", "2015-04-01"], ["updated_at", "2015-04-01 20:55:31.566554"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:55:31.567640"], ["follow_up_date", "2015-04-02"], ["updated_at", "2015-04-01 20:55:31.567640"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:55:31.568598"], ["follow_up_date", "2015-03-31"], ["updated_at", "2015-04-01 20:55:31.568598"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "delivery", "store_location", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:55:31.569608"], ["delivery", "100.0"], ["store_location", "Oakland"], ["updated_at", "2015-04-01 20:55:31.569608"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 427[0m  [["balance_due", "109.0"], ["delivery_with_tax", "109.0"], ["grand_total", "109.0"], ["updated_at", "2015-04-01 20:55:31.570767"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:55:31.572627"], ["follow_up_date", "2015-04-01"], ["updated_at", "2015-04-01 20:55:31.572627"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:55:31.573611"], ["follow_up_date", "2015-04-02"], ["updated_at", "2015-04-01 20:55:31.573611"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:55:31.574842"], ["follow_up_date", "2015-03-31"], ["updated_at", "2015-04-01 20:55:31.574842"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"  WHERE "orders"."follow_up_date" = '2015-04-01'  ORDER BY "orders"."updated_at" ASC
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:55:31.577201"], ["follow_up_date", "2015-04-01"], ["updated_at", "2015-04-01 20:55:31.577201"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:55:31.578366"], ["follow_up_date", "2015-04-02"], ["updated_at", "2015-04-01 20:55:31.578366"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:55:31.579590"], ["follow_up_date", "2015-03-31"], ["updated_at", "2015-04-01 20:55:31.579590"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"  WHERE "orders"."follow_up_date" = '2015-04-02'  ORDER BY "orders"."updated_at" ASC
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:57:21.085659"], ["follow_up_date", "2015-04-01"], ["updated_at", "2015-04-01 20:57:21.085659"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:57:21.089392"], ["follow_up_date", "2015-04-02"], ["updated_at", "2015-04-01 20:57:21.089392"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:57:21.090881"], ["follow_up_date", "2015-04-01"], ["updated_at", "2015-04-01 20:57:21.090881"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.6ms)[0m  [1mSELECT "orders".* FROM "orders"  WHERE "orders"."follow_up_date" = '2015-04-02'  ORDER BY "orders"."updated_at" ASC[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:57:21.096576"], ["follow_up_date", "2015-04-01"], ["updated_at", "2015-04-01 20:57:21.096576"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:57:21.098003"], ["follow_up_date", "2015-04-02"], ["updated_at", "2015-04-01 20:57:21.098003"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:57:21.099176"], ["follow_up_date", "2015-04-01"], ["updated_at", "2015-04-01 20:57:21.099176"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:57:21.100259"], ["updated_at", "2015-04-01 20:57:21.100259"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 20:57:21.109940"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:57:21.109940"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 440], ["product_id", 590]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 440]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 590]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 440  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 20:57:21.177885"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 590]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "products" WHERE "products"."id" = $1  [["id", 590]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 440]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 440]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:57:21.185525"], ["follow_up_date", "2015-04-01"], ["updated_at", "2015-04-01 20:57:21.185525"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:57:21.186849"], ["follow_up_date", "2015-04-02"], ["updated_at", "2015-04-01 20:57:21.186849"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:57:21.187950"], ["follow_up_date", "2015-04-01"], ["updated_at", "2015-04-01 20:57:21.187950"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "delivery", "store_location", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:57:21.189215"], ["delivery", "100.0"], ["store_location", "Oakland"], ["updated_at", "2015-04-01 20:57:21.189215"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 444  [["balance_due", "109.0"], ["delivery_with_tax", "109.0"], ["grand_total", "109.0"], ["updated_at", "2015-04-01 20:57:21.190901"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:57:21.193564"], ["follow_up_date", "2015-04-01"], ["updated_at", "2015-04-01 20:57:21.193564"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:57:21.194837"], ["follow_up_date", "2015-04-02"], ["updated_at", "2015-04-01 20:57:21.194837"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:57:21.196012"], ["follow_up_date", "2015-04-01"], ["updated_at", "2015-04-01 20:57:21.196012"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders"  WHERE "orders"."follow_up_date" = '2015-04-02'  ORDER BY "orders"."updated_at" ASC[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:57:21.199810"], ["follow_up_date", "2015-04-01"], ["updated_at", "2015-04-01 20:57:21.199810"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:57:21.200972"], ["follow_up_date", "2015-04-02"], ["updated_at", "2015-04-01 20:57:21.200972"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:57:21.201955"], ["follow_up_date", "2015-04-01"], ["updated_at", "2015-04-01 20:57:21.201955"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders"  WHERE "orders"."follow_up_date" = '2015-04-01'  ORDER BY "orders"."updated_at" ASC[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:57:21.204442"], ["follow_up_date", "2015-04-01"], ["updated_at", "2015-04-01 20:57:21.204442"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:57:21.205630"], ["follow_up_date", "2015-04-02"], ["updated_at", "2015-04-01 20:57:21.205630"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:57:21.207053"], ["follow_up_date", "2015-04-01"], ["updated_at", "2015-04-01 20:57:21.207053"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:57:21.208400"], ["delivery", "100.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 20:57:21.208400"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 454[0m  [["balance_due", "309.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 20:57:21.209794"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:57:21.211619"], ["follow_up_date", "2015-04-01"], ["updated_at", "2015-04-01 20:57:21.211619"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:57:21.212665"], ["follow_up_date", "2015-04-02"], ["updated_at", "2015-04-01 20:57:21.212665"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:57:21.213683"], ["follow_up_date", "2015-04-01"], ["updated_at", "2015-04-01 20:57:21.213683"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.2ms)[0m  SELECT "orders".* FROM "orders"  WHERE "orders"."follow_up_date" = '2015-04-01'  ORDER BY "orders"."updated_at" ASC
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:57:21.215868"], ["follow_up_date", "2015-04-01"], ["updated_at", "2015-04-01 20:57:21.215868"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:57:21.216885"], ["follow_up_date", "2015-04-02"], ["updated_at", "2015-04-01 20:57:21.216885"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("complete", "created_at", "follow_up_date", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:57:21.217832"], ["follow_up_date", "2015-04-01"], ["updated_at", "2015-04-01 20:57:21.217832"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("assembly", "complete", "created_at", "delivery", "deposit", "store_location", "total_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:57:21.218849"], ["delivery", "100.0"], ["deposit", "300.0"], ["store_location", "Oakland"], ["total_with_tax", "100.0"], ["updated_at", "2015-04-01 20:57:21.218849"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "delivery_with_tax" = $2, "grand_total" = $3, "updated_at" = $4 WHERE "orders"."id" = 461  [["balance_due", "9.0"], ["delivery_with_tax", "109.0"], ["grand_total", "309.0"], ["updated_at", "2015-04-01 20:57:21.220387"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:57:21.230445"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 20:57:21.230445"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:57:21.232028"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 20:57:21.232028"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:57:21.233062"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 20:57:21.233062"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))[0m
  [1m[35mCustomer Load (0.1ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:57:21.235699"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 20:57:21.235699"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:57:21.236701"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 20:57:21.236701"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:57:21.237679"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 20:57:21.237679"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2015-04-01 20:57:21.238564"], ["updated_at", "2015-04-01 20:57:21.238564"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:57:21.239795"], ["updated_at", "2015-04-01 20:57:21.239795"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "customer_id" = $1, "updated_at" = $2 WHERE "orders"."id" = 462[0m  [["customer_id", 434], ["updated_at", "2015-04-01 20:57:21.242192"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders"  WHERE "orders"."customer_id" = $1[0m  [["customer_id", 434]]
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" INNER JOIN "orders_products" ON "products"."id" = "orders_products"."product_id" WHERE "orders_products"."order_id" = $1  [["order_id", 462]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "orders_products" WHERE "orders_products"."order_id" = $1[0m  [["order_id", 462]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = $1  [["id", 462]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 434]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:57:21.251122"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 20:57:21.251122"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:57:21.252456"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 20:57:21.252456"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:57:21.253509"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 20:57:21.253509"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCustomer Load (0.2ms)[0m  [1mSELECT "customers".* FROM "customers"  WHERE (LOWER(first_name) LIKE LOWER('%J%'))[0m
  [1m[35mCustomer Load (0.1ms)[0m  SELECT "customers".* FROM "customers"  WHERE (LOWER(last_name) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:57:21.256152"], ["email", "jsmith@example.com"], ["first_name", "John"], ["last_name", "Smith"], ["updated_at", "2015-04-01 20:57:21.256152"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-04-01 20:57:21.257160"], ["email", "tjones@example.com"], ["first_name", "Tim"], ["last_name", "Tyler"], ["updated_at", "2015-04-01 20:57:21.257160"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "customers" ("created_at", "email", "first_name", "last_name", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2015-04-01 20:57:21.258493"], ["email", "jjohnson@example.com"], ["first_name", "Val"], ["last_name", "Johnson"], ["updated_at", "2015-04-01 20:57:21.258493"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCustomer Load (0.2ms)[0m  SELECT  "customers".* FROM "customers"   ORDER BY "customers"."created_at" DESC LIMIT 15
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:57:21.261951"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:57:21.261951"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:57:21.263520"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:57:21.263520"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:57:21.265129"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:57:21.265129"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:57:21.266651"], ["updated_at", "2015-04-01 20:57:21.266651"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 20:57:21.267939"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 20:57:21.267939"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 463], ["product_id", 594]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 594]]
  [1m[35mOrder Load (0.4ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 594]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 463  [["balance_due", "-1.09"], ["grand_total", "-1.09"], ["items_total", "-1.0"], ["tax", "-0.09"], ["total_with_tax", "-1.09"], ["updated_at", "2015-04-01 20:57:21.278196"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:57:21.280776"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:57:21.280776"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:57:21.282034"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:57:21.282034"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:57:21.283164"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:57:21.283164"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(company) LIKE LOWER('%J%'))  ORDER BY "products"."created_at" DESC[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(model_type) LIKE LOWER('%J%'))
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(description) LIKE LOWER('%J%'))[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:57:21.286313"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:57:21.286313"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:57:21.287448"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:57:21.287448"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:57:21.288596"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:57:21.288596"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:57:21.289915"], ["delivery_with_tax", "100.0"], ["updated_at", "2015-04-01 20:57:21.289915"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 20:57:21.291139"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:57:21.291139"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 464], ["product_id", 601]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 601]]
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 601]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 464[0m  [["balance_due", "309.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 20:57:21.302262"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 601]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:57:21.306673"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:57:21.306673"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:57:21.308247"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:57:21.308247"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:57:21.309709"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:57:21.309709"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["complete", "f"], ["created_at", "2015-04-01 20:57:21.311362"], ["updated_at", "2015-04-01 20:57:21.311362"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 20:57:21.312771"], ["discount", "0.0"], ["price", "1.0"], ["updated_at", "2015-04-01 20:57:21.312771"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 465], ["product_id", 605]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 605]]
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 605]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 465[0m  [["balance_due", "1.09"], ["grand_total", "1.09"], ["items_total", "1.0"], ["tax", "0.09"], ["total_with_tax", "1.09"], ["updated_at", "2015-04-01 20:57:21.320745"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 605]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:57:21.324400"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:57:21.324400"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:57:21.325907"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:57:21.325907"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:57:21.327218"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:57:21.327218"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "deposit", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:57:21.328636"], ["delivery_with_tax", "100.0"], ["deposit", "100.0"], ["updated_at", "2015-04-01 20:57:21.328636"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 20:57:21.330039"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:57:21.330039"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 466], ["product_id", 609]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 609]]
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 609]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 466[0m  [["balance_due", "209.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 20:57:21.336588"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 609]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:57:21.339386"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:57:21.339386"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:57:21.340915"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:57:21.340915"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:57:21.342189"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:57:21.342189"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "deposit", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:57:21.343535"], ["delivery_with_tax", "100.0"], ["deposit", "100.0"], ["updated_at", "2015-04-01 20:57:21.343535"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 20:57:21.344787"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:57:21.344787"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 467], ["product_id", 613]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 613]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 467  [["balance_due", "209.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 20:57:21.350732"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 613]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 613]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 467[0m  [["balance_due", "100.0"], ["grand_total", "200.0"], ["items_total", "0.0"], ["tax", "0.0"], ["total_with_tax", "0.0"], ["updated_at", "2015-04-01 20:57:21.353796"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:57:21.355669"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:57:21.355669"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:57:21.356807"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:57:21.356807"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:57:21.357865"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:57:21.357865"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:57:21.359096"], ["updated_at", "2015-04-01 20:57:21.359096"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 20:57:21.360187"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:57:21.360187"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 468], ["product_id", 617]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 617]]
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 617]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 468  [["balance_due", "109.0"], ["grand_total", "109.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 20:57:21.366294"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 617]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:57:21.369440"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:57:21.369440"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:57:21.370661"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:57:21.370661"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:57:21.371765"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:57:21.371765"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders" ("complete", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["complete", "f"], ["created_at", "2015-04-01 20:57:21.372894"], ["updated_at", "2015-04-01 20:57:21.372894"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2015-04-01 20:57:21.374112"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:57:21.374112"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)[0m  [["order_id", 469], ["product_id", 621]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1[0m  [["product_id", 621]]
  [1m[35mOrder Load (0.3ms)[0m  SELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  [["product_id", 621]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 469  [["balance_due", "-109.0"], ["grand_total", "-109.0"], ["items_total", "-100.0"], ["tax", "-9.0"], ["total_with_tax", "-109.0"], ["updated_at", "2015-04-01 20:57:21.382136"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:57:21.384156"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:57:21.384156"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:57:21.385259"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:57:21.385259"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:57:21.386305"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:57:21.386305"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:57:21.393486"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:57:21.393486"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:57:21.394723"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:57:21.394723"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:57:21.395788"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:57:21.395788"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(company) LIKE LOWER('%J%'))  ORDER BY "products"."created_at" DESC
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(model_type) LIKE LOWER('%J%'))[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(description) LIKE LOWER('%J%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:57:21.398965"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:57:21.398965"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:57:21.400035"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:57:21.400035"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:57:21.401039"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:57:21.401039"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:57:21.402942"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:57:21.402942"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:57:21.404082"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:57:21.404082"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:57:21.405130"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:57:21.405130"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "orders" ("assembly", "complete", "created_at", "delivery_with_tax", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["assembly", "100.0"], ["complete", "f"], ["created_at", "2015-04-01 20:57:21.406306"], ["delivery_with_tax", "100.0"], ["updated_at", "2015-04-01 20:57:21.406306"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("created_at", "discount", "price", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-04-01 20:57:21.446154"], ["discount", "0.0"], ["price", "100.0"], ["updated_at", "2015-04-01 20:57:21.446154"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "orders_products" ("order_id", "product_id") VALUES ($1, $2)  [["order_id", 470], ["product_id", 634]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 634]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 470  [["balance_due", "309.0"], ["grand_total", "309.0"], ["items_total", "100.0"], ["tax", "9.0"], ["total_with_tax", "109.0"], ["updated_at", "2015-04-01 20:57:21.452482"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.1ms)[0m  SELECT  "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1  ORDER BY "orders"."id" ASC LIMIT 1  [["product_id", 634]]
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT "orders".* FROM "orders" INNER JOIN "orders_products" ON "orders"."id" = "orders_products"."order_id" WHERE "orders_products"."product_id" = $1[0m  [["product_id", 634]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "orders" SET "balance_due" = $1, "grand_total" = $2, "items_total" = $3, "tax" = $4, "total_with_tax" = $5, "updated_at" = $6 WHERE "orders"."id" = 470[0m  [["balance_due", "200.0"], ["grand_total", "200.0"], ["items_total", "0.0"], ["tax", "0.0"], ["total_with_tax", "0.0"], ["updated_at", "2015-04-01 20:57:21.455576"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:57:21.457561"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:57:21.457561"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:57:21.458743"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:57:21.458743"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:57:21.459976"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:57:21.459976"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(company) LIKE LOWER('%R%'))  ORDER BY "products"."created_at" DESC
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(model_type) LIKE LOWER('%R%'))[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(description) LIKE LOWER('%R%'))
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "John"], ["created_at", "2015-04-01 20:57:21.463955"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:57:21.463955"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Tim"], ["created_at", "2015-04-01 20:57:21.465346"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:57:21.465346"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Val"], ["created_at", "2015-04-01 20:57:21.466527"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:57:21.466527"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:57:21.468490"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:57:21.468490"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:57:21.469561"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:57:21.469561"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:57:21.470577"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:57:21.470577"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(company) LIKE LOWER('%Red%'))  ORDER BY "products"."created_at" DESC[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products"  WHERE (LOWER(model_type) LIKE LOWER('%Red%'))
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"  WHERE (LOWER(description) LIKE LOWER('%Red%'))[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "John"], ["created_at", "2015-04-01 20:57:21.474275"], ["description", "Blue"], ["discount", "0.0"], ["model_type", "Smith"], ["price", "100.0"], ["updated_at", "2015-04-01 20:57:21.474275"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["company", "Tim"], ["created_at", "2015-04-01 20:57:21.476576"], ["description", "Red"], ["discount", "0.0"], ["model_type", "Tyler"], ["price", "50.0"], ["updated_at", "2015-04-01 20:57:21.476576"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("company", "created_at", "description", "discount", "model_type", "price", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["company", "Val"], ["created_at", "2015-04-01 20:57:21.478284"], ["description", "Green"], ["discount", "0.0"], ["model_type", "Johnson"], ["price", "10.0"], ["updated_at", "2015-04-01 20:57:21.478284"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
